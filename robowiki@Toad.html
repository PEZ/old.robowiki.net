<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML><HEAD><TITLE>Toad - Robo Wiki -= Collecting Robocode Knowledge =-</TITLE>
<META NAME='KEYWORDS' CONTENT='Toad'/>
<LINK REL="stylesheet" HREF="/robodocs/wiki.css">
</HEAD><BODY BGCOLOR="white">
<div class=wikiheader><h1><a href="robowiki?Robo_Home"><img src="/images/RoboWiki.png" alt="[Home]" border=0 align="right"></a><a href="robowiki?back=Toad">Toad</a></h1><a href="robowiki?Robo_Home" class=wikipagelink>Robo Home</a> | <a href="robowiki?Changes" class=wikipagelink>Changes</a> | <a href="robowiki?action=editprefs">Preferences</a> | <a href='?action=index'>AllPages</a><br>
<hr class=wikilineheader></div><div class=wikitext><a href="robowiki?Toad/SegmentationTree" class=wikipagelink>/SegmentationTree</a> <a href="robowiki?Toad/SegmentationTreeCode" class=wikipagelink>/SegmentationTreeCode</a>  <a href="robowiki?Toad/RRGC" class=wikipagelink>/RRGC</a> <a href="robowiki?Toad/Versions" class=wikipagelink>/Versions</a> <a href="robowiki?Toad/Movement" class=wikipagelink>/Movement</a>
<H3>Toad</H3>

<p>
<H4>What's special about it?</H4>

Not much, except that my first wave surfer with precise prediction
<p>
<H4>Great, I want to try it. Where can I download it?</H4>

<a rel="nofollow" href="http://www.robocoderepository.com/BotDetail.jsp?id=2725">http://www.robocoderepository.com/BotDetail.jsp?id=2725</a>
<p>
<H4>How competitive is it?</H4>

We'll see
<p>
<H4>How does it <a href="robowiki?Movement" class=wikipagelink>move</a>?</H4>

Wave surfing
<p>
<H4>How does it fire?</H4>

Guess Factor targeting with a segmentation tree (binary tree, nodes are split using entropy to find the best segmentation while keeping a balanced amount of data in each branch, it uses a thread to rebuild it partially at the begining of each round. it was inspired by the dynamic segmentation page by <a href="robowiki?Vic" class=wikipagelink>Vic</a>)
<p>
<p>
<H4>How does it <a href="robowiki?DodgingBullets" class=wikipagelink>dodge bullets</a>?</H4>

Wave surfing
<p>
<H4>How does the <a href="robowiki?Melee" class=wikipagelink>melee</a> strategy differ from <a href="robowiki?OneOnOne" class=wikipagelink>one-on-one</a>  strategy?</H4>

<a href="robowiki?OneOnOne" class=wikipagelink>OneOnOne</a> only
<p>
<H4>How does it select a target to attack/avoid in <a href="robowiki?Melee" class=wikipagelink>melee</a>?</H4>

<a href="robowiki?OneOnOne" class=wikipagelink>OneOnOne</a> only
<p>
<H4>What does it save between rounds and matches?</H4>

Guess factors between rounds
<p>
<H4>Where did you get the name?</H4>

Seems logical after Froggy and Tadpole
<p>
<H4>Can I use your code?</H4>

Not yet
<p>
<H4>What's next for your robot?</H4>

<PRE >
 *refactor the segmentation tree to allow easier experiments with new segments and speed it up
 *improve close combat
</PRE>
<p>
<H4>Does it have any <a href="robowiki?WhiteWhale" class=wikipagelink>WhiteWhale</a>s?</H4>

We'll see (pattern matcher &amp; wave surfer I guess)
<p>
<H4>What other robot(s) is it based on?</H4>

Based on what I have learned from <a href="robowiki?FloatingTadpole" class=wikipagelink>FloatingTadpole</a> and ideas on the wiki
<p>
<hr noshade class=wikiline size=1>
<H4>Comments, questions, feedback:</H4>

<p>
Congratulations on going over 2000! At first I thought you had made amazing progress but then I looked closer at your code. This robot is largely based on <a href="robowiki?CassiusClay" class=wikipagelink>CassiusClay</a>, compare the following code:
<p>
From <a href="robowiki?CassiusClay" class=wikipagelink>CassiusClay</a>:
<p>
<pre>
    static final double[] DISTANCE_SLICES = { 150, 300, 450, 600 };
    static final double[] DISTANCE_SLICES_FASTER = { 300, 500 };
    static final double[] VELOCITY_SLICES = { 1, 3, 5, 7 };
    static final double[] VELOCITY_SLICES_FASTER = { 2, 4, 6 };
    static final double[] WALL_SLICES = { 0.15, 0.35, 0.55, 0.75 };
    static final double[] WALL_SLICES_FASTER = { 0.25, 0.5, 0.75 };
    static final double[] WALL_SLICES_REVERSE = { 0.35, 0.7 };
    static final double[] TIMER_SLICES = { 0.1, 0.3, 0.7, 1.2 };
    static final double[] TIMER_SLICES_FASTER = { 0.1, 0.3, 0.7 };
</pre>
<p>
From Toad (decompiled):
<p>
<pre>
        private static final double DISTANCE_SLICES_FAST[] = {
            300D, 500D
        };
        private static final double VELOCITY_SLICES_FAST[] = {
            2D, 4D, 6D
        };
        private static final double WALL_SLICES_FAST[] = {
            0.25D, 0.5D, 0.75D
        };
        private static final double TIME_SLICES_FAST[] = {
            0.10000000000000001D, 0.29999999999999999D, 0.69999999999999996D
        };


        private static final double DISTANCE_SLICES[] = {
            150D, 300D, 450D, 600D
        };
        private static final double VELOCITY_SLICES[] = {
            1.0D, 3D, 5D, 7D
        };
        private static final double WALL_SLICES[] = {
            0.14999999999999999D, 0.34999999999999998D, 0.55000000000000004D, 0.75D
        };
        private static final double TIME_SLICES[] = {
            0.10000000000000001D, 0.29999999999999999D, 0.69999999999999996D, 1.2D
        };
        private static final double ACCEL_SLICES[] = {
            -0.5D, 0.5D
        };
        private static final double WALL_SLICES_REVERSE[] = {
            0.34999999999999998D, 0.69999999999999996D
        };
        private static final double POWER_SLICES[] = {
            0.65000000000000002D, 1.3D, 1.95D, 2.6000000000000001D
        };
</pre>
<p>
I don't mind if you copy your bot from someone else but please give PEZ proper credit for it. -- <a href="robowiki?StefW" class=wikipagelink>StefW</a>
<p>
I used PEZ's gun for my segmentation for both movement and gun that's true. Although now all these slices are not used, I discarded some and added an unsegmented buffer because it was slowing down my learning speed. The movement is actually closer to <a href="robowiki?RaikoMX" class=wikipagelink>RaikoMX</a> (in my mind) I use the same segmentation for the hits and the flattener. When there is no wave I surf the flattner's wave, I no longer mirror the enemy. I use Axe's (IIRC) power management trick to fire 3 power bullet when the hit rate is above 30%. I use Albert future position to predict my positions. -- Florent
<hr noshade class=wikiline size=1>
Very nice. Somehow I knew you'd break the 2000 barrier. If <a href="robowiki?The2000Club" class=wikipagelink>The2000Club</a> is accurate, you're the first in 2005 and it's already October! Congratulations! 
<p>
Not to dim the mood but <a href="robowiki?StefW" class=wikipagelink>StefW</a> has a point about dishing out credit. <a href="robowiki?PEZ" class=wikipagelink>PEZ</a>, <a href="robowiki?Jamougha" class=wikipagelink>Jamougha</a>, <a href="robowiki?Axe" class=wikipagelink>Axe</a> and <a href="robowiki?Albert" class=wikipagelink>Albert</a> all release their open source bots under <a href="robowiki?RWPCL" class=wikipagelink>RWPCL</a>. Officially, there is an expectation that you share the result with the wiki community. C'mon - Toad is a bot to be proud of! ;) --<a href="robowiki?Corbos" class=wikipagelink>Corbos</a>
<p>
I will release it once its clean, I am done removing bugs (I hope). I am implementing gun heat and energy tracking to improve the fire detection. -- <a href="robowiki?Florent" class=wikipagelink>Florent</a>
<p>
You seem to have gone up another 20 points with 0.6t, you'll be number one soon, congratulations! -- <a href="robowiki?StefW" class=wikipagelink>StefW</a>
<p>
Thanks, I dont know if it is due to to the segmentation tree for the gun or the more precise energy tracking tough. -- <a href="robowiki?Florent" class=wikipagelink>Florent</a>
<p>
One change at a time, the hardest rule to follow in Robocode :) -- <a href="robowiki?Pulsar" class=wikipagelink>Pulsar</a>
<p>
The temptation is way too big :) --  <a href="robowiki?Florent" class=wikipagelink>Florent</a>
<p>
Great! Finally a tree based dynamic segmentation gun. And it immediately charges into the 2000 club :-) I would be very curious how it performs in the <a href="robowiki?RRGunChallenge" class=wikipagelink>RRGunChallenge</a>. That would clearly indicate how strong the gun is. Congrats! -- <a href="robowiki?Vic" class=wikipagelink>Vic</a>
<p>
I have been working on this tree since Froggy but it was not that effective. The results are not always repeatable, but that might be because I only run 35 rounds, after about 85 rounds the tree will be too big to be rebuild with the current settings. I have just created an RRGC version of Toad, I will release it when Toad 0.7t will have stabilised its ranking. --<a href="robowiki?Florent" class=wikipagelink>Florent</a>
<p>
Toad RRGC is slowing done my RR client a lot, it has been running one battle with Toad RRGC for the last 20 minutes, can you please make it faster or remove it from the RR? Thanks! -- <a href="robowiki?StefW" class=wikipagelink>StefW</a>
<p>
I will try to make it faster,but I fear it will still be slow. -- <a href="robowiki?Florent" class=wikipagelink>Florent</a>
<p>
Its uploaded, I played a with threads' priorities it is a bit faster. --<a href="robowiki?Florent" class=wikipagelink>Florent</a>
<p>
I have the problem listed below with Toad_RRGC. It happens only (as far as I have seen) when Toad_RRGC participates in the first battle. When it is in a next battle there is no problem.
<pre>
Preparing battles list ... Using smart battles is true
Executing battles ...
Fighting battle 0 ... drm.CobraBora 1.12,florent.Toad_RRGC 1.2
Exception in thread "Application Thread" java.lang.ArrayIndexOutOfBoundsExceptio
n: 1 &gt;= 1
        at java.util.Vector.elementAt(Unknown Source)
        at robocode.peer.ContestantPeerVector.elementAt(ContestantPeerVector.jav
a:52)
        at robocode.battle.BattleResultsTableModel.getValueAt(BattleResultsTable
Model.java:75)
        at roborumble.battlesengine.BattlesRunner.runBattles(BattlesRunner.java:
95)
        at roborumble.RoboRumbleAtHome.main(RoboRumbleAtHome.java:94)

C:\Applicaties\robocode\robots&gt;cd ..

C:\Applicaties\robocode&gt;
</pre>
I must note that I still use v1.0.6 for RR@Home, just too lazy to replace it by Kawigi's version of 1.0.7. --<a href="robowiki?GrubbmGait" class=wikipagelink>GrubbmGait</a>
<p>
I'll see what I can do, even if I have no clue why it happens. -- <a href="robowiki?Florent" class=wikipagelink>Florent</a>
<p>
And it only seems to happen when Toad_RRGC is listed as the <strong>second</strong> bot in the first battle. (Just to make things a bit more blurry) --<a href="robowiki?GrubbmGait" class=wikipagelink>GrubbmGait</a>
<p>
That's even better ;) . Has any other bot encountered a similar problem? -- <a href="robowiki?Florent" class=wikipagelink>Florent</a>
<p>
Very rarely I had such a problem before in the middle of a RR@Home sequence, but this is the first time it happens consequently. If other clients do not have this problem, it just may have to do with my configuration. Just set 'BATTLESPERBOT=500' (meaning fill PL-list first), let the client run and watch the Java-window. --<a href="robowiki?GrubbmGait" class=wikipagelink>GrubbmGait</a>
<p>
Toad RRGC tanks nearly every time.  I've noticed it as the second bot quite a bit but I don't know that it is the only time it happens.  I'd get to someone + toad, it'd tank, I'd get a fresh list and crank through 25, upload, get the same someone + toad battle and it'd tank again, rinse repeat.  I've noticed Toad (RRGC and otherwise) is the only bot that times out in melee battles.  Something is awry with your segmentation thread thing-a-ma-bob methinks. - <a href="robowiki?Martin_Alan_Pedersen" class=wikipagelink>Martin Alan Pedersen</a>
<p>
Toad is a One on One only, no wonder it crashes in melee. I haven't released a new version, with threads correction because the current one doesn't have all its pairings yet. The computations in the threads does not count in the CPU time fo the robot, what is slow in my robot is the precise pediction. --<a href="robowiki?Florent" class=wikipagelink>Florent</a>
<p>
It is also possible there is a bug in RR@Home (thread-related) which is only encountered in a situation which occurs with ToadRRGC<a href="robowiki?action=edit&id=ToadRRGC" class=wikipageedit>?</a>. Alas, since this is the first time this happens, ToadRRGC<a href="robowiki?action=edit&id=ToadRRGC" class=wikipageedit>?</a> still is the prime suspect. As for its pairings, it will take some to fill up because it now relies on 'random' battles because the priority battles do not work for ToadRRGC<a href="robowiki?action=edit&id=ToadRRGC" class=wikipageedit>?</a>. --<a href="robowiki?GrubbmGait" class=wikipagelink>GrubbmGait</a>
<p>
Concerning the bug I have just read <a href="robowiki?RoboRumble/ReportedProblems" class=wikipagelink>RoboRumble/ReportedProblems</a> and it already happened with other bots which weren't using threads. The new version should be completly safe regarding the threads, the flags are now declared volatile and its compiled for Java 1.5. I thought I had removed all the bugs in my movement but there seems to still be some.-- <a href="robowiki?Florent" class=wikipagelink>Florent</a>
<p>
</div><hr class=wikilinefooter>
<div class=wikifooter><form method="post" action="robowiki" enctype="application/x-www-form-urlencoded">
<a href="robowiki?Robo_Home" class=wikipagelink>Robo Home</a> | <a href="robowiki?Changes" class=wikipagelink>Changes</a> | <a href="robowiki?action=editprefs">Preferences</a> | <a href='?action=index'>AllPages</a><br>
<a href="robowiki?action=edit&id=Toad" class=wikipageedit>Edit text of this page</a> | <a href="robowiki?action=history&id=Toad">View other revisions</a><br>Last edited May 4, 2006 21:45 EST by <a href="robowiki?Wcsv" title="ID 6902 from r204174.res.Lehigh.EDU">Wcsv</a> <a href="robowiki?action=browse&diff=1&id=Toad">(diff)</a><br>Search: <input type="text" name="search"  size="20" /><input type="hidden" name="dosearch" value="1"  /></form></div>
</body>
</html>