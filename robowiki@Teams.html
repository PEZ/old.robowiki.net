<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML><HEAD><TITLE>Teams - Robo Wiki -= Collecting Robocode Knowledge =-</TITLE>
<META NAME='KEYWORDS' CONTENT='Teams'/>
<LINK REL="stylesheet" HREF="/robodocs/wiki.css">
</HEAD><BODY BGCOLOR="white">
<div class=wikiheader><h1><a href="robowiki?Robo_Home"><img src="/images/RoboWiki.png" alt="[Home]" border=0 align="right"></a><a href="robowiki?back=Teams">Teams</a></h1><a href="robowiki?Robo_Home" class=wikipagelink>Robo Home</a> | <a href="robowiki?Changes" class=wikipagelink>Changes</a> | <a href="robowiki?action=editprefs">Preferences</a> | <a href='?action=index'>AllPages</a><br>
<hr class=wikilineheader></div><div class=wikitext>Not much to be said ... yet. Excluding some isolated ones, there hasn't been any serious development of teams till now. That's the bad news :-( The good ones is that, because there is no real experience, nobody should be in disadvantage to create a new team: there are no good strategies, nor killer ideas... everything is for discovery. -- <a href="robowiki?Albert" class=wikipagelink>Albert</a> 
<p>
Some basic concepts that will not help you to make a good team, but can clarify the ideas:
<p>
A team is a group of bots that fight together to beat an enemy team. You can make a team of as many bots as you want, but by consensus teams are made of 5 bots (at least, you will need a 5 bots team if you want to enter the F2F TEAM competition). Bots in a team can be of different classes.
<p>
You implement them by extending the <a href="robowiki?TeamRobot" class=wikipagelink>TeamRobot</a> class, that provides some functions to exchange information about bots and to check if a bot is your friend or your foe. Robocode provides also an special interface called Droid, that allows you to implement an special kind of bot without radar, but with an extra 20 energy. When you create a team, the first bot in it is the "leader", and gets 200 energy.
<p>
Note that it allows for a wide range o team types. For example:
<p>
<UL >
<li> 1 team leader (with radar) + 4 droids (without radar but with 20 extra energy, that receive orders from the leader).
<li> 5 normal team bots of the same class.
<li> 5 normal bots of different classes (note that you could specialize them in some way).
<li> Any combination of the above (ie. 1 leader + 2 droids + 2 normal bots).
<li> 5 droids.
</UL>
<p>
Right now it's not clear which type is better. Teams with droids have the advantage of having more energy, but suffer from lack of information and get in serious troubles if the leader gets killed...
<p>
Of course, the good part of teams is that they work together to win the battle. There are many different ways to make them work together, and for sure the way they coordinate will make the difference.
<p>
<UL >
<li> The simplest way is a collution were bots belonging to a team avoid shoting each other.
<li> A more advanced team will exchange information about themselves and the enemies to gather intelligence and decide their actions.
<li> Another step could be to coordinate the bots to avoid "colliding" (in a wide sense) and may be coordinating fire. 
<li> Next step should be to create real team strategies, for example flock movements.
<li> ...
</UL>
<p>
Implementing a team creates some problems that you won't find in 1v1 or melee. For example (add more if you think they are relevant):
<p>
<UL >
<li> Asigning the "good spots" to the bots (only one at one spot).
<li> Dealing with friendly fire and <a href="robowiki?LineOfSight" class=wikipagelink>LOS</a>.
<li> Coordinating the movements.
<li> <a href="robowiki?Teams/IdentifyingTheBots" class=wikipagelink>Identifying the bots</a>.
<li> ...
</UL>
<p>
<a href="robowiki?Albert" class=wikipagelink>Albert</a>
<hr noshade class=wikiline size=1>
Well, that was quite a lot! One question. Five <a href="robowiki?SandboxDT" class=wikipagelink>SandboxDT</a> makes team, right? Do you know if it somehow can create Driods and stuff on the fly or is it just five <a href="robowiki?AdvancedRobot" class=wikipagelink>AdvancedRobot</a> on the team? The latter would mean they can't communicate, wouldn't it? -- <a href="robowiki?PEZ" class=wikipagelink>PEZ</a> 
<p>
A droid is a robot that implements the interface "Droid", e.g. public MyBotClass<a href="robowiki?action=edit&id=MyBotClass" class=wikipageedit>?</a> extends <a href="robowiki?TeamRobot" class=wikipagelink>TeamRobot</a> implements Droid {}.
Droids can still send and receive messages but they have no radar. Since a bot is defined as being a Droid or not in its class, you can't switch between being a Droid and being a regular <a href="robowiki?TeamRobot" class=wikipagelink>TeamRobot</a> on-the-fly. --<a href="robowiki?David_Alves" class=wikipagelink>David Alves</a>
<p>
SandBoxDT<a href="robowiki?action=edit&id=SandBoxDT" class=wikipageedit>?</a> is implemented on a <a href="robowiki?TeamRobot" class=wikipagelink>TeamRobot</a>. It is able to communicate. I think there is a recent post from Paul Evans in the <a href="robowiki?RobocodeRepository" class=wikipagelink>RobocodeRepository</a> explaining which information they exchange. -- <a href="robowiki?Albert" class=wikipagelink>Albert</a>
<p>
What's LOS? --<a href="robowiki?David_Alves" class=wikipagelink>David Alves</a>
<p>
<a href="robowiki?LineOfSight" class=wikipagelink>LineOfSight</a> (just guessing)  --<a href="robowiki?Dummy" class=wikipagelink>Dummy</a> That's it -- <a href="robowiki?Albert" class=wikipagelink>Albert</a>
<p>
I would just like to announce my team project, <a href="robowiki?AntHill" class=wikipagelink>Project Ant Hill</a>. -- <a href="robowiki?Jabe2022" class=wikipagelink>Jabe2022</a>
<p>
I have the idea of making a team that, because two teams = 5 vs 5, starts each round by assinging each teammate one or so enemy bot(s) to scan and give their position, energy, ect. As bots die each teammate will scan fewer or more bots. This way the entire team knows exact robot positions and energy levels, so information collection is complete. The bot that starts farthest from the enemys and has the least chance of dying is assigned leader and process most information rather than all processing the same information. A dying leader passes the processing torch to a higher-energy teammate.
<p>
I also have some questions. Would killing off a disabled teamate be a good tactic? Would friendly fire give the team points or only prevent the other team getting points for a kill? -- <a href="robowiki?RobocoderDan" class=wikipagelink>RobocoderDan</a>
<p>
I've considered doing some team-based scanning tactics to get consistent data, but I typically get "enough" scans and the algorithms I've used have been robust against missed scans.  I'm not sure about the points for friendly fire thing, it's worth experimentation.  In general, what you really want to look out for is if that disabled teammate was your leader (although it's not likely to be unless your enemy specifically targeted it) ;-) -- <a href="robowiki?Kawigi" class=wikipagelink>Kawigi</a>
<p>
A guy in my class is setting up a league for 5 bot teams with modified rules
<UL >
<li>Gun Cooling Rate of 1
<li>For each Bot fully functioning at end of round winner receives 1 point, 1/2 point for each disabled bot
</UL>
Anyone have any ideas pertaining specifically to such circumstances -- <a href="robowiki?Gimp" class=wikipagelink>gimp</a>
<p>
He he, it will allow fast kills. Cooling rate 1 means you can fire every 2 ticks and finish your energy in 33 rounds (not enough time to find a wall before dying). With 10 bots in the arena, it will probably create a big mess with more than 300 bullets at the same time in the air). But it can be interesting, being the most important thing to choice a dead by a lucky enemy burst or by firing and consuming the energy. -- <a href="robowiki?Albert" class=wikipagelink>Albert</a>
<p>
I don't exactly understand what your last sentence was saying.  Was it something about strategy needing to consider the choice between dying from enemy fire or lack of energy from you firing?  I've got an idea for trying to eliminate friendly fire but I don't know how well it will work.  I'll be spending the next bit of time evaluating the possibilities of its success. -- <a href="robowiki?Gimp" class=wikipagelink>gimp</a>
<p>
I´ve two questions: <br>
1)Does every bot run in a seperate thread?<br>
2)What exactly happens when a robot get killed? Is the run funktion simply no longer called?<br>
-<a href="robowiki?Krabb" class=wikipagelink>Krabb</a>
<p>
I've got two approximate answers:
<OL >
<li> Aside from being in seperate threads, every robot runs even in a completely different class loader - but yes, they are in different threads, but they still basically run in sequence (Robocode just tells the others to wait while one does its stuff).  What it means to have different class loaders is that not even static global variables are shared between robots.
<li> Well, the run method only got called once - what happens when a robot gets killed is that they throw an exception or something to exit the run method and stop feeding you events.
</OL>
-- <a href="robowiki?Kawigi" class=wikipagelink>Kawigi</a>
<p>
Well at the moment my work with teams is solely based around Radar and gaining intelligence.  This is actually a much bigger thing that it is with any of the other robots, because of the different possibilities (from everyone with radars to Droids).  I am starting to think that we should have an <a href="robowiki?ImplementsDroidCompetition" class=wikipagelink>ImplementsDroidCompetition</a>, its amazing how much information you can get from events other than on<a href="robowiki?ScannedRobot" class=wikipagelink>ScannedRobot</a>, and I think that it would be rather amusing.  -- <a href="robowiki?Jokester" class=wikipagelink>Jokester</a>
<p>
Thx Kawigi for the answers!<br>
If you want Jokester we can make such a team and compete against each other and against dummy´s  BlindFighters<a href="robowiki?action=edit&id=BlindFighters" class=wikipageedit>?</a> :) It will be realy funny!!! --<a href="robowiki?Krabb" class=wikipagelink>Krabb</a>
<p>
I have an idea that I would like to try it out.  It is based off the book Ender's Game/Ender<a href="robowiki?action=edit&id=Teams/Ender" class=wikipageedit>?</a>'s Shadow.  Anyway, each person creates a 40-person Army.  The Army can be broken up into a bunch of little teams.  Each team is called a Toon.  Make sure your Toons don't fire at each other!  Then, the armies face of on a 2000x2000 battlefield!  The last army standing wins!  I am working on an army now.  If someone has questions, ask them.  --<a href="robowiki?Bayen" class=wikipagelink>Bayen</a>
<p>
Could 80 tanks on a battlefield fit into any reasonable amount of RAM? Doesn't seem like it, but somebody else probably knows better than I. -- <a href="robowiki?Voidious" class=wikipagelink>Voidious</a>
<p>
I tried it before posting and it wasn't that bad.  It went pretty slow for the beginning, but the whole round was over in less than 5 minutes. --<a href="robowiki?Bayen" class=wikipagelink>Bayen</a>
<p>
I tried it too, its possible! And it seems to be funny :) I would prefer a 5000x5000 Battlefield, but we´ll need a zoom function...
<PRE >
 --<a href="robowiki?Krabb" class=wikipagelink>Krabb</a>
</PRE>
<p>
The new page for this idea is <a href="robowiki?Battle_School" class=wikipagelink>Battle School</a>, named after Battle School from Ender's game! --<a href="robowiki?Bayen" class=wikipagelink>Bayen</a>
<p>
Is it possible to 
broadcastMessage(e);
in the on<a href="robowiki?ScannedRobot" class=wikipagelink>ScannedRobot</a>? (I already have the try...catch block included) --<a href="robowiki?Starrynte" class=wikipagelink>Starrynte</a>
<p>
nvm, i found out you can't broadcast a scannedrobotevent from broadcastMessage(). But why? --<a href="robowiki?Starrynte" class=wikipagelink>Starrynte</a>
<p>
The broadcastMessage method takes a Serializable. You can only broadcast a method that implements Serializable - and anything it has instances of must also implement Serializable. So you need to do a little legwork to broadcast a scannedRobotEvent<a href="robowiki?action=edit&id=RobotEvent" class=wikipageedit>?</a>. -- <a href="robowiki?Voidious" class=wikipagelink>Voidious</a>
<p>
ok, i made a new RobotScannedEvent<a href="robowiki?action=edit&id=RobotScannedEvent" class=wikipageedit>?</a> class that implements Serializable and set everything inside the <a href="robowiki?ScannedRobotEvent" class=wikipagelink>ScannedRobotEvent</a> into the RobotScannedEvent<a href="robowiki?action=edit&id=RobotScannedEvent" class=wikipageedit>?</a>, then i just broadcast the RobotScannedEvent<a href="robowiki?action=edit&id=RobotScannedEvent" class=wikipageedit>?</a> --<a href="robowiki?Starrynte" class=wikipagelink>Starrynte</a>
<p>
Right now i am making a team of one of my robots. The leaders broadcast the RobotScannedEvent<a href="robowiki?action=edit&id=RobotScannedEvent" class=wikipageedit>?</a> (see above) to the droid, and the droids use the RobotScannedEvent<a href="robowiki?action=edit&id=RobotScannedEvent" class=wikipageedit>?</a> for their radar. However, the droids can't seem to hit sittingduck. Here is the code for the gunning method:
<pre>
void doGunning(){
		if(target.location != null){
			double bulletPower=Math.min(Math.min(myEnergy/10, 1300/target.distance), target.energy/4);
			double absBearing=Math.atan2(target.location.getX() - this.getX(), target.location.getY() - this.getY());
			out.println(Utils.normalRelativeAngle(absBearing-this.getGunHeadingRadians()));
			if(target.energy&gt;0){
				if(this.getGunTurnRemainingRadians()&lt;0.01){
					this.setTurnGunRightRadians(Utils.normalRelativeAngle(absBearing-this.getGunHeadingRadians()));												
				}

				if(this.getGunHeat()==0 &amp;&amp; this.getEnergy()&gt;3 &amp;&amp; target.live &amp;&amp; this.getTime()-target.ctime&lt;25){				
					setFire(bulletPower);
				}
			}else{
				if(target.distance&lt;150 || this.getOthers()==1){
					setMaxVelocity(8);
					turnRightRadians(absBearing-this.getHeadingRadians());
					ahead(target.distance);
					waitFor(new MoveCompleteCondition(this));
				}else{
					setTurnGunRightRadians(Utils.normalRelativeAngle(absBearing-this.getGunHeadingRadians()));
					setFire(0.1);
				}
			}
		}
	}
</pre>
I also set the droids to not fire at the teammates. Does anybody know what's wrong? --<a href="robowiki?Starrynte" class=wikipagelink>Starrynte</a>
<p>
Have you tested it while not moving? Do all droids fire at the same location? In my opinion you should strike the test about gunturnremaining, you want to continuously update the gun to the latest known targetlocation, not just when the gun finished turning. When you move, you must update your gundirection to compensate your movement, otherwise you will indeed miss <a href="robowiki?SittingDuck" class=wikipagelink>SittingDuck</a>.  -- <a href="robowiki?GrubbmGait" class=wikipagelink>GrubbmGait</a>
<p>
Woo!  I appear again for a brief moment!  ;)  Does anyone have ANY idea why the 1.5 message system seems to be a bit... broken?  Unless it's my code (which it probably is.)
<p>
For some reason, MessageEvent<a href="robowiki?action=edit&id=MessageEvent" class=wikipageedit>?</a>.getMessage() is returning a RobotMessageManager<a href="robowiki?action=edit&id=RobotMessageManager" class=wikipageedit>?</a> - that's not even serializable!!  And sending messages gives all kinds of errors...  here's a printout from one of the bots:
<pre>1:*****End of Turn*****
2:Turn skipped!
2:Scanned sample.Crazy
2:Attempting to send scan of sample.Crazy
2:::Message not sent. java.io.EOFException
2:*****End of Turn*****
3:*****End of Turn*****
4:*****End of Turn*****
5:*****End of Turn*****
6:*****End of Turn*****
7:*****End of Turn*****
8:*****End of Turn*****
9:Scanned sample.Crazy
9:Attempting to send scan of sample.Crazy
9:::Message not sent. java.io.EOFException
9:*****End of Turn*****
10:Message recieved - robocode.peer.robot.RobotMessageManager
10:Scanned sample.Crazy
10:Attempting to send scan of sample.Crazy
10:::Message not sent. java.io.EOFException
10:*****End of Turn*****
11:Message recieved - null
11:Scanned sample.Crazy
11:Attempting to send scan of sample.Crazy
11:::Message not sent. java.io.EOFException
11:Turn skipped!
11:*****End of Turn*****
12:Message recieved - sendMessage
12:Scanned sample.Crazy
12:Attempting to send scan of sample.Crazy
12:::Scan of sample.Crazy sent toMyFirstCommRobot (1)
12:*****End of Turn*****
13:Scanned sample.Crazy
13:Attempting to send scan of sample.Crazy
13:::Scan of sample.Crazy sent toMyFirstCommRobot (1)
13:Turn skipped!
13:*****End of Turn*****
14:Scanned sample.Crazy
14:Attempting to send scan of sample.Crazy
14:::Scan of sample.Crazy sent toMyFirstCommRobot (1)
14:*****End of Turn*****
15:Scanned sample.Crazy
15:Attempting to send scan of sample.Crazy
15:::Message not sent. java.io.EOFException
15:*****End of Turn*****
16:Scanned sample.Crazy
16:Attempting to send scan of sample.Crazy
16:::Message not sent. java.io.EOFException
16:*****End of Turn*****
17:Message recieved - robocode.TeamRobot
17:Scanned sample.Crazy
17:Attempting to send scan of sample.Crazy
17:::Message not sent. java.io.EOFException
17:*****End of Turn*****
18:Message recieved - null
18:Scanned sample.Crazy
18:Attempting to send scan of sample.Crazy
18:::Message not sent. java.io.EOFException
18:*****End of Turn*****</pre>
<p>
It looks to me like it's getting random messages...  non-serializable messages!  Did something break???  --<a href="robowiki?Bayen" class=wikipagelink>Bayen</a>
<p>
I have no experiences with Teams....but have you tried on 1.4.9? If it works fine there, you should submit a bug report on the Sourceforge page so fnl can look into this. -- <a href="robowiki?Skilgannon" class=wikipagelink>Skilgannon</a>
<p>
I was about to do that, but then I saw the non-serializable field in my Message class.  ;)  --<a href="robowiki?Bayen" class=wikipagelink>Bayen</a>
<hr>
<h2>Large teams</h2>
Are there any leagues for very large teams using the maximum size map, which would require the RADAR-equipped robots to be spread out so that you have an idea of what is happening, and the drones to be moved into formation around them  as protection. Ther would also be room for more strategy, like using the bulk of your team to defend one side, and sending out radar-equipped skirmishers to find the enemies and allow your drones to engage them befpre they make radar contact with your defenders.
There would be several different approaches to this: the first would be to use a regimented approach with drones attached to a specific leader and given a fixed role, which would be the simplest to program, but unlikely to be sucessful, a horde of largely independent melee bots with friendly fire checking and not much else, or  thirdly, what I have been trying to implement. THis has the leader designated "captian", a pair of radar-eqipped leuitenatants, and two otehr radar-eqipped robots as scouts. I also have five droids, two attached to each Lt. and one as a meat shield for the captain. Each of the RADAR-equipped robots has the same code, and decides which is relevant to it. If the captain is killed, the best-palced robot is promoted, and if a Lt. was promoted or killed, a scout is used to replace him. If a droid is killed, nothing is done about it, although any robot can ask for droids, and wether tehy get one will depend on thier situation.
There are probably other approaches as well, but I cannot think of them right now.
<p>
Lol, I am posting from school...
Anyways, I don't think anyone has used your idea yet, but it will be interesting for a <a href="robowiki?Battle_School" class=wikipagelink>Battle School</a> like league active again. --<a href="robowiki?Starrynte" class=wikipagelink>Starrynte</a>
<p>
Is there anything in the rules that says if your leader is slain the remaining bots are disabled?  I see it happening to my team but I don't see it happening to my opponents. -- Martin
<UL >
<li>When the team leader dies, every member of the team takes 30 damage, I believe. Is that what's happening? (I actually didn't know about that until David told me about it recently...) Otherwise, no, that's not supposed to happen. -- <a href="robowiki?Voidious" class=wikipagelink>Voidious</a>
<li>That is probably the culprit.  Hard to notice the pattern, especially when bots have already taken a sound beating by the time the leader is eliminated. Thanks.  -- Martin
</UL>
</div><hr class=wikilinefooter>
<div class=wikifooter><form method="post" action="robowiki" enctype="application/x-www-form-urlencoded">
<a href="robowiki?Robo_Home" class=wikipagelink>Robo Home</a> | <a href="robowiki?Changes" class=wikipagelink>Changes</a> | <a href="robowiki?action=editprefs">Preferences</a> | <a href='?action=index'>AllPages</a><br>
<a href="robowiki?action=edit&id=Teams" class=wikipageedit>Edit text of this page</a> | <a href="robowiki?action=history&id=Teams">View other revisions</a><br>Last edited January 21, 2008 6:58 EST by <a href="robowiki?Martin_Alan_Pedersen" title="ID 11949 from c-76-114-14-43.hsd1.ca.comcast.net">Martin Alan Pedersen</a> <a href="robowiki?action=browse&diff=1&id=Teams">(diff)</a><br>Search: <input type="text" name="search"  size="20" /><input type="hidden" name="dosearch" value="1"  /></form></div>
</body>
</html>