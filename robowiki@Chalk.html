<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML><HEAD><TITLE>Chalk - Robo Wiki -= Collecting Robocode Knowledge =-</TITLE>
<META NAME='KEYWORDS' CONTENT='Chalk'/>
<LINK REL="stylesheet" HREF="/robodocs/wiki.css">
</HEAD><BODY BGCOLOR="white">
<div class=wikiheader><h1><a href="robowiki?Robo_Home"><img src="/images/RoboWiki.png" alt="[Home]" border=0 align="right"></a><a href="robowiki?back=Chalk">Chalk</a></h1><a href="robowiki?Robo_Home" class=wikipagelink>Robo Home</a> | <a href="robowiki?Changes" class=wikipagelink>Changes</a> | <a href="robowiki?action=editprefs">Preferences</a> | <a href='?action=index'>AllPages</a><br>
<hr class=wikilineheader></div><div class=wikitext>by <a href="robowiki?Corbos" class=wikipagelink>Corbos</a>
<p>
<a href="robowiki?Chalk/VersionHistory" class=wikipagelink>/VersionHistory</a>
<p>
<H4>What's special about it?</H4>

<p>
His second toe is longer than his big toe.
<p>
<H4>Great, I want to try it. Where can I download it?</H4>

<p>
Version 2.3.He: <a rel="nofollow" href="http://scatterbright.com/robots/cjm.chalk.Chalk_2.5.jar">http://scatterbright.com/robots/cjm.chalk.Chalk_2.5.jar</a>
<p>
<H4>How does it <a href="robowiki?Movement" class=wikipagelink>move</a>?</H4>

<p>
It tries to <a href="robowiki?WaveSurfing" class=wikipagelink>Wave Surf</a> without stats buffers.<br>
<OL >
<li>Collect the 'features' an enemy would see in Chalk's movement. (velocity, distance from wall, etc, etc...).
<li>Determine the historical scans that are most like Chalk's current move.
<li>Use these scans to avoid predictive behavior.
</OL>
<p>
<H4>How does it fire?</H4>

<p>
<OL >
<li>Store a record of each enemy scan's 'features' (velocity, distance, etc...).
<li>Find the most common n scan to the enemy's current behavior.
<li>Generalize to one bearing.
<li>Shoot.
</OL>
<p>
<H4>How does it <a href="robowiki?DodgingBullets" class=wikipagelink>dodge bullets</a>?</H4>

<p>
<a href="robowiki?WaveSurfing" class=wikipagelink>WaveSurfing</a>
<p>
<H4>How does the <a href="robowiki?Melee" class=wikipagelink>melee</a> strategy differ from <a href="robowiki?OneOnOne" class=wikipagelink>one-on-one</a>  strategy?</H4>

<p>
It's exclusively <a href="robowiki?OneOnOne" class=wikipagelink>one-on-one</a>.
<p>
<H4>What does it save between rounds and matches?</H4>

<p>
Its collection of movement and enemy movement patterns along with 'feature' weights.
<p>
<H4>Can I use your code?</H4>

<p>
Sure, just give credit... and by credit, I mean original credit. Most of the sexy <a href="robowiki?Robocode" class=wikipagelink>Robocode</a> ideas (is that an oxymoron?) have been proved and improved by generous <a href="robowiki?RoboWiki" class=wikipagelink>RoboWiki</a> contributors.
<p>
<H4>What's next for your robot?</H4>

<p>
Improve, improve, improve.
<p>
<H4>Does it have any <a href="robowiki?WhiteWhale" class=wikipagelink>WhiteWhale</a>s?</H4>

<p>
After thinking about what it means to be a <a href="robowiki?WhiteWhale" class=wikipagelink>WhiteWhale</a>, I've decided Chalk doesn't have any. There's no single bot that drives him to the edge of insanity. For the most part, he gets a good night sleep, pays his taxes, and is thankful he's come as far as he has.
<p>
However, he takes regular beatings from any of the following packages:<br>
abc, apv, axeBots, cx, davidalves, dft, florent, jam, jcs, jekl, kawigi, mue, pe, pez, pulsar, rz, tide, trab, voidious, wcsv
<p>
<H4>What other robot(s) is it based on?</H4>

<p>
Chalk was built using everything I could absorb from this wiki.<br>
Specifically, it's movement grew from peeks at <a href="robowiki?Pugilist" class=wikipagelink>Pugilist</a>, <a href="robowiki?CassiusClay" class=wikipagelink>CassiusClay</a>, <a href="robowiki?RaikoMX" class=wikipagelink>RaikoMX</a>, <a href="robowiki?Cyanide" class=wikipagelink>Cyanide</a> and <a href="robowiki?DarkHallow" class=wikipagelink>DarkHallow</a>.<br>
Its gun was inspired from the description of <a href="robowiki?TronsGun" class=wikipagelink>TronsGun</a>. Apparently, <a href="robowiki?Musashi" class=wikipagelink>Musashi</a>, <a href="robowiki?SilverSurfer" class=wikipagelink>SilverSurfer</a> and <a href="robowiki?Ali" class=wikipagelink>Ali</a> implement the same sort of thing.<br>
I've also perused <a href="robowiki?Dookious" class=wikipagelink>Dookious</a>, <a href="robowiki?Cigaret" class=wikipagelink>Cigaret</a>, and any number of other <a href="robowiki?OpenSource" class=wikipagelink>OpenSource</a> bots.<br>
Its limitations, however, are all my own. Thanks to everyone for contributing.
<p>
<hr noshade class=wikiline size=1>
<H4>Comments, questions, feedback:</H4>

Hey man, nice tank! I actually ended up looking through your source (cool that you included it) because I noticed the codesize was so small, and your tank is doing well in the <a href="robowiki?RoboRumble" class=wikipagelink>RoboRumble</a>. As a newcomer to Robocode, I am also just starting to do <a href="robowiki?WaveSurfing" class=wikipagelink>WaveSurfing</a>, and I had a couple thoughts to share with you if you don't mind. (I am as eager to be corrected as to hear that the idea is good, just fyi!)
<p>
One thing I do with my multiple buffers is multiply the bin score by the number of total segments in that buffer (after retrieving the value); I do this because the buffer with far fewer segments would have, on average, much higher values in their bins, but they would actually be giving less accurate data as the match goes on. (You kind of provide a natural weighting by not doing that, in favor of the lesser segmented buffers.) 
<p>
The other idea, which I'm more convinced is a good one, is that for velocities near 0 I tried incrementing the bin for that factor *and* for its negative, since you're technically not oriented to either direction over the other. (You are using relative factors, I think, as in 1.0 is forward and not "clock-wise"...) I just did this in the dev version of Dookious, and my <a href="robowiki?WaveSurfingChallenge" class=wikipagelink>WaveSurfingChallenge</a> scores went from 90% for both to 95%/91.5%. <i>(Edit: Actually, that ChallengeA<a href="robowiki?action=edit&id=ChallengeA" class=wikipageedit>?</a> score must have been out of date, because all the factors should be 0 in that one anyway. :))</i> (<a href="robowiki?CurveFlatteningChallenge" class=wikipagelink>CurveFlatteningChallenge</a> didn't change noticeably over 100 matches, but I'm still convinced it's the right move.) Anyway, please don't think I'm just trying to be critical of your code, it's very clean and efficient. -- <a href="robowiki?Voidious" class=wikipagelink>Voidious</a>
<p>
Nice tank to you too! While I was wrapping up the first version of Chalk, I had a pretty good idea of where I stood against most bots. Then suddenly, WHAM!, add <a href="robowiki?Dookious" class=wikipagelink>Dookious</a> v0.50 to my loss list.
<p>
Regarding <a href="robowiki?WaveSurfing" class=wikipagelink>WaveSurfing</a>, thanks for the tips. My surfing has some issues. I noticed Chalk lost his second <a href="robowiki?RoboRumble" class=wikipagelink>RoboRumble</a> battle to <a href="robowiki?Gruwel" class=wikipagelink>Gruwel</a>. This isn't a comment on <a href="robowiki?Gruwel" class=wikipagelink>Gruwel</a>'s quality but <a href="robowiki?GrubbmGait" class=wikipagelink>GrubbmGait</a> describes its gun as an 'Iterative circular gun' with '(rolling) averaged velocity'. Seems the gun should be vulnerable to <a href="robowiki?WaveSurfing" class=wikipagelink>WaveSurfing</a> when it's implemented correctly. Mine, obviously, isn't
<p>
I like the idea of favoring highly segmented buffers. It makes good sense - though currently I'm not even sure if I'm using the right segments let alone weighting them correctly. I can't see anything wrong with mirror incrementing at low velocities, either. Hope you won't mind seeing your tips in Chalk 1.1. ;) Thanks again. --<a href="robowiki?Corbos" class=wikipagelink>Corbos</a>
<p>
Any adequate <a href="robowiki?WaveSurfer" class=wikipagelink>WaveSurfer</a> should score 90% against <a href="robowiki?Gruwel" class=wikipagelink>Gruwel</a>, as it really uses an 'Iterative circular gun with bullerpower adaption against wallshots' (no averaging on velocity). If you have the figures, please fill in the <a href="robowiki?WaveSurfingChallenge" class=wikipagelink>WaveSurfingChallenge</a>. It is nice to see some recent bots there, although a good score is no guarantee for real-life performance.  -- <a href="robowiki?GrubbmGait" class=wikipagelink>GrubbmGait</a>
<p>
Corbos, not at all, I'd be honored. :) Congrats on the ranking jump of 1.01, too. I'd been waiting until he scored better to fill in the <a href="robowiki?WaveSurfingChallenge" class=wikipagelink>WaveSurfingChallenge</a> scores for Dookious, but I'll test and post 0.50's scores for the heck of it. I'm more concerned with the <a href="robowiki?MovementChallenge" class=wikipagelink>MovementChallenge</a> and Dookious's gun at the moment! -- <a href="robowiki?Voidious" class=wikipagelink>Voidious</a>
<p>
I'm proud to be a <a href="robowiki?ProblemBot" class=wikipagelink>ProblemBot</a> for another top-40 tank :) Nice work! -- <a href="robowiki?Voidious" class=wikipagelink>Voidious</a>
<p>
Well, I'm certainly intrigued... I would definitely be interested in a more detailed description of its <a href="robowiki?WaveSurfing" class=wikipagelink>WaveSurfing</a> methods. (Though I am planning to read through the source some when I'm less tired.) Pretty interesting <a href="robowiki?RoboRumble" class=wikipagelink>RoboRumble</a> results so far. Neat! -- <a href="robowiki?Voidious" class=wikipagelink>Voidious</a>
<p>
Glad to see someone else traveling the "no stats buffers" path. Don't give up, a 2060 ranking is possible! ;) -- <a href="robowiki?ABC" class=wikipagelink>ABC</a>
<p>
Congrats on cracking the 1900 mark, Corbos! (These last couple of versions give Dookious a <em>very</em> close match, too, if you didn't notice.) -- <a href="robowiki?Voidious" class=wikipagelink>Voidious</a>
<p>
Just in cast you thought your humor had gone unobserved, I did catch the element version numbers. -- Martin
<p>
Aha, thanks for mentioning that... I'd been wondering =) -- <a href="robowiki?Voidious" class=wikipagelink>Voidious</a>
<p>
Hell, they're sequential. If I run out of elements before the next 'minor' release, I know my versioning scheme (and development) sucks. Which reminds me... how about a new rule - 'All top 10 bots must be versioned 1.* or higher.'? Seems fair to me. --Corbos
<p>
Naturally, version 1.0 would coincide with taking over the #1 spot. =) -- <a href="robowiki?Voidious" class=wikipagelink>Voidious</a>
<p>
Making steady progress there, and taking down a few top-25 bots while you're at it - nice work. You've even got me thinking about trying a no-stats-buffers tank. Also, did you realize the irony that your tank is "Chalk" (white), modeled after ideas used in "Shadow" (black)? =) -- <a href="robowiki?Voidious" class=wikipagelink>Voidious</a>
<p>
The interesting thing about the stats-buffer/no-stats-buffer dichotomy is that I'm sure they're mathematically equivalent. I just don't have the math chops (and patience) to prove it. I like the white/black observation; though I currently view <a href="robowiki?PatternMatching" class=wikipagelink>pattern matchers</a> as the most evil and "Black" bots. I imagine I could scare up a few more points by shaking a few off my <a href="robowiki?ProblemBots" class=wikipagelink>problem bot</a> list. Cheers. --Corbos
<p>
Ouch, dealing losses to Dookious once again! Nice work. -- <a href="robowiki?Voidious" class=wikipagelink>Voidious</a>
<p>
Wow, welcome to the top 20! Find a bug in your <a href="robowiki?WaveSurfing" class=wikipagelink>WaveSurfing</a>, maybe? Keep up the good work. -- <a href="robowiki?Voidious" class=wikipagelink>Voidious</a>
<p>
Actually, 2.3.He was a gun-only update. I knew the gun had issues, but finding 40 points worth of issues was a bonus. --Corbos
<p>
Finding 40 points in your gun is amazing - congrats. By the way, I'm not sure if you noticed this, but it seems that some classes used in your code are not packaged in the .jar. Namely, I don't see cjm.Debug and Util, which are referenced in a few places in the source. I was going to run a TC2K6 test of Chalk 2.3.He, but I wasn't sure what Util.ONE_EIGHTH was supposed to be :-\ (I figured 1/8 or Pi/8...) If you could post those, I'd gladly run some TC2K6 tests while I'm playing my new favorite video game, <a rel="nofollow" href="http://www.metroidhunters.com/launch/index.jsp">[Metroid Prime Hunters]</a> :-) -- <a href="robowiki?Voidious" class=wikipagelink>Voidious</a>
<p>
Lucky you! I can't wait for it to be released over here. You probably have Tetris DS too... grr ;) -- <a href="robowiki?ABC" class=wikipagelink>ABC</a>
<p>
Hmmm. 2.3.He shouldn't reference cjm.Util any longer. I moved those values into cjm.chalk.Evader. A quick 'Find in Files' confirms it. Could you be looking at 2.<strong>1</strong>.He? As for cjm.Debug, that's actually my answer to conditional compilation in Java - an interface that is never implemented and contains behavioral constants. From what I understand, if an interface constant eliminates a logical branch, the compiler ignores the branch all together. Apparently, the robocode packager ignores it all together, as well. ;) Anyhow, it's simply:
<p>
<pre>
package cjm;

public interface Debug {
    public static final boolean IS_MC = false;
    public static final boolean IS_TC = false;
    public static final boolean PRINT_STATS = false;
}
</pre>
<p>
Sorry for any confusion. I'll probably run some TC2K6 tests as well. --<a href="robowiki?Corbos" class=wikipagelink>Corbos</a>
<p>
You know, I probably was looking at 2.1.He. Thanks for the clarifications; I'll see if I can run some TC2K6-500 seasons tonight. -- <a href="robowiki?Voidious" class=wikipagelink>Voidious</a>
<p>
In case you missed it, I posted a (1 season) <a href="robowiki?TargetingChallenge2K6" class=wikipagelink>TC2K6</a> score for chalk; 83.68, just behind <a href="robowiki?PulsarMax" class=wikipagelink>PulsarMax</a>, and above <a href="robowiki?RaikoMX" class=wikipagelink>RaikoMX</a> and <a href="robowiki?Cyanide" class=wikipagelink>Cyanide</a>. I'd guess you could probably break 2K by a decent margin without touching your gun again. -- <a href="robowiki?Voidious" class=wikipagelink>Voidious</a>
<p>
Thanks for running those. I know Chalk has become a bit of a <a href="robowiki?SlowBot" class=wikipagelink>SlowBot</a> so I really appreciate it. I wish I had more time to make the run for 2000. I'm too addicted to ignore it but reality might slow development for a while. Thanks again and keep shooting for that #1 spot. --<a href="robowiki?Corbos" class=wikipagelink>Corbos</a>
<p>
Nice job on Chalk 2.3.B, still plugging along towards the 2K mark. I finally started studying some of the source code this week, and I'm learning quite a lot from it. It's a lot simpler than I imagined the Trons-gun-style methodology to be, though I don't have the experience to know how different your implementation is from <a href="robowiki?Tron" class=wikipagelink>Tron</a>/<a href="robowiki?Shadow" class=wikipagelink>Shadow</a>. (Your source code is always very neat and straightforward, which helps. =)) It's really got me wanting to try a tank of my own that doesn't use <a href="robowiki?GuessFactors" class=wikipagelink>GuessFactors</a>, but first I must continue on <a href="robowiki?Dookious" class=wikipagelink>Dookious</a> for a bit longer... -- <a href="robowiki?Voidious" class=wikipagelink>Voidious</a>
<p>
I've just uploaded an open source version of a simplified Tron/Shadow<a href="robowiki?action=edit&id=Chalk/Shadow" class=wikipageedit>?</a> gun here: <a rel="nofollow" href="http://robocode.aclsi.pt/abc.wiki.DCBot_1.0.jar">http://robocode.aclsi.pt/abc.wiki.DCBot_1.0.jar</a>. I'll make a page for it soon. Have fun. ;)-- <a href="robowiki?ABC" class=wikipagelink>ABC</a>
<p>
Wow. Thanks for sharing this. It'll be interesting to see the differences and similarities with Chalk's gun. If you don't mind the publicity, this might be a nice addition to <a href="robowiki?DynamicClustering" class=wikipagelink>DynamicClustering</a> as well. Thanks again. --<a href="robowiki?Corbos" class=wikipagelink>Corbos</a>
<p>
Yeah, way cool that you posted that! I will definitely be taking a look when I get a chance. Thanks! -- <a href="robowiki?Voidious" class=wikipagelink>Voidious</a>
<p>
Hey <a href="robowiki?Corbos" class=wikipagelink>Corbos</a>, two things concerning your "BAND_WIDTH" variable. First, what is it exactly? =) Second, your calculation:
<pre>
    static final double BAND_WIDTH = 20 / 3;
</pre>
From what I can tell, and testing it in a stand-alone Java program, this will assign the value "6.0" to BAND_WIDTH, not "6.66" as you're probably looking for. Best of luck in your hunt for 2K! -- <a href="robowiki?Voidious" class=wikipagelink>Voidious</a>
<p>
Thanks for catching that. I use BAND_WIDTH in my kernel density calculations. This intro explains it better than I could: <a rel="nofollow" href="http://www.stat.mq.edu.au/staff/tduong/seminars/intro2kde/">http://www.stat.mq.edu.au/staff/tduong/seminars/intro2kde/</a>. Also, <a href="robowiki?Albert" class=wikipagelink>Albert</a> provides a <a href="robowiki?KernelDensity" class=wikipagelink>KernelDensity</a> page with several pluggable kernels. Basically, band width determines the smoothness of a curve estimation. Given n observed bearings, a kernel density estimation "roughs out" a curve that fits the observations. The larger the band width, the fewer peaks and valleys the curve will have. Once you have an estimated curve, you either move away from or shoot at the densest part of it.
<p>
...makes me wonder if I have other integer/double math bugs. Thanks again for the heads-up. --<a href="robowiki?Corbos" class=wikipagelink>Corbos</a>
<hr noshade class=wikiline size=1>
Wow! This is not a step, not a jump, but a leap forward to #4. Congrats on this amazing improvement!  -- <a href="robowiki?GrubbmGait" class=wikipagelink>GrubbmGait</a>
<p>
Wow, amazing... Big congrats, <a href="robowiki?Corbos" class=wikipagelink>Corbos</a>, absolutely incredible rating jump with 2.5! I patiently await your post to the version history to see what you did =) -- <a href="robowiki?Voidious" class=wikipagelink>Voidious</a>
<p>
Holy crap, did you just gain 50 rating points with one update? I thought my 30 point gain was impressive, but man... huge congrats from me! =) --<a href="robowiki?David_Alves" class=wikipagelink>David Alves</a>
<p>
Thanks everyone. I'm really happy with the result - couldn't have done it without so many shared ideas. --<a href="robowiki?Corbos" class=wikipagelink>Corbos</a>
<p>
Which of the changes do you think produced the biggest gain in rating? Incidentally, that's how Phoenix surfs too. =) --<a href="robowiki?David_Alves" class=wikipagelink>David Alves</a>
<p>
The min/max calculation was definitely the biggest factor. Squishing a couple of bugs in Chalk's movement prediction amplified the effect. Gun changes gave a nominal boost, at best. I always assumed the nearest wave was most important with the second, third, etc, waves providing fuzzy pressure. After a little thought (and watching the result), predicting completely through at least two waves makes a lot of sense. The nearest wave is important, obviously, but it's the wave you can do the least about. Treating all waves with equal respect gives a little more time to set up a nice surfing sequence. 
<p>
Out of curiosity, what do you credit for your 30 point jump? That seems far crazier than Chalk's 50 considering <a href="robowiki?Phoenix" class=wikipagelink>Phoenix</a> was already in the thin, thin air. --<a href="robowiki?Corbos" class=wikipagelink>Corbos</a>
<p>
My jump was due entirely to a change in the rolling speed of my surfing stats, rolling them faster than before. --<a href="robowiki?David_Alves" class=wikipagelink>David Alves</a>
<p>
Well, it ain't another 50, but another ~10 point jump at that high a rating is still pretty sweet. Great to see <a href="robowiki?Chalk" class=wikipagelink>Chalk</a> kicking butt in the top 10! Keep it up, man. -- <a href="robowiki?Voidious" class=wikipagelink>Voidious</a>
<p>
Pretty sweet PL performance with that last version, tied for 1st and beating both <a href="robowiki?Dookious" class=wikipagelink>Dookious</a> and <a href="robowiki?Phoenix" class=wikipagelink>Phoenix</a>. Actually the last several versions have been about draws with Dookious on average. What kinda changes you been making? Haven't seen an update to <a href="robowiki?Chalk/VersionHistory" class=wikipagelink>/VersionHistory</a> in a while ;) Cheers, -- <a href="robowiki?Voidious" class=wikipagelink>Voidious</a>
<p>
I always have good intentions for Chalk's <a href="robowiki?Chalk/VersionHistory" class=wikipagelink>/VersionHistory</a> but never seem to get it done... anyhow, I added a second gun to up my percentages against surfers. It uses the last 5000 versus 30000 scans and weighs actual shots much heavier than those without a bullet. I've also toyed with flattening easier and harder. Neither idea is well-tuned as evidenced by Chalk's drop in rating while his PL improved. Still, I think they show promise. I'll tighten them up when I get the chance. See you in the Rumble! --<a href="robowiki?Corbos" class=wikipagelink>Corbos</a>
</div><hr class=wikilinefooter>
<div class=wikifooter><form method="post" action="robowiki" enctype="application/x-www-form-urlencoded">
<a href="robowiki?Robo_Home" class=wikipagelink>Robo Home</a> | <a href="robowiki?Changes" class=wikipagelink>Changes</a> | <a href="robowiki?action=editprefs">Preferences</a> | <a href='?action=index'>AllPages</a><br>
<a href="robowiki?action=edit&id=Chalk" class=wikipageedit>Edit text of this page</a> | <a href="robowiki?action=history&id=Chalk">View other revisions</a><br>Last edited December 1, 2006 16:14 EST by <a href="robowiki?Corbos" title="ID 7829 from proxy03phl.sap-ag.de">Corbos</a> <a href="robowiki?action=browse&diff=1&id=Chalk">(diff)</a><br>Search: <input type="text" name="search"  size="20" /><input type="hidden" name="dosearch" value="1"  /></form></div>
</body>
</html>