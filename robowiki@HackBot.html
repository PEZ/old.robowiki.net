<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML><HEAD><TITLE>HackBot - Robo Wiki -= Collecting Robocode Knowledge =-</TITLE>
<META NAME='KEYWORDS' CONTENT='Hack, Bot'/>
<LINK REL="stylesheet" HREF="/robodocs/wiki.css">
</HEAD><BODY BGCOLOR="white">
<div class=wikiheader><h1><a href="robowiki@Robo_Home"><img src="/images/RoboWiki.png" alt="[Home]" border=0 align="right"></a><a href="robowiki@back=HackBot">HackBot</a></h1><a href="robowiki@Robo_Home" class=wikipagelink>Robo Home</a> | <a href="robowiki@Changes" class=wikipagelink>Changes</a> | <a href="robowiki@action=editprefs">Preferences</a> | <a href='?action=index'>AllPages</a><br>
<hr class=wikilineheader></div><div class=wikitext><a rel="nofollow" href="http://www.cryptopia.com.au/hackbot.html">http://www.cryptopia.com.au/hackbot.html</a>
<hr noshade class=wikiline size=1>
Not that I'm impressed by being able to beat DT by cheating. But it sure is a bit worrying that the security sandbox of Robocode has been defeated. If indeed the story is true. I don't want to try the hackbot out. -- <a href="robowiki@PEZ" class=wikipagelink>PEZ</a>
<p>
Aww come on man, that's bordering on slander.. =)  
But I suppose I could say something to calm your nerves a bit. 
<p>
This is not a sandbox break. Rather, the problem is with the Windows implementation of 'jar'. Whoever coded this particular version of jar forgot to check for negative paths ("..\..\", etc). That's pretty much all there is to it. 
<p>
The keyword here is 'implementation'. You could design the strongest, most unbreakable lock in the world, but if the builder forgets to put hinges on the door... well..
<p>
For those who have the time to understand this break, you will see that there should be no danger to your system whatsoever. Both the modified Robocode.jar and my Robot are still forced to live entirely within the sandbox, and as such should be prevented from accessing your system by Java itself. The only things that lives outside the sandbox are the windows batch files. These COULD do some nasty things, but if you take the time to look, you will see that they do not. 
<p>
On the other hand, some people are not as kind as myself. I therefore urge ANY person using JAR for Windows - if only for your own security - to check EACH AND EVERY jar file, BEFORE un-jar'ing, to see that there are no negative paths contained within it. 
-- <a href="robowiki@Troy" class=wikipagelink>Troy</a>
<p>
Ummm, I see. Then I'm safe since I'm not using Windows. But don't you think that Robocode itself should check the jar file so that nothing outside the robots own directory gets overwritten? Will your bot beat <a href="robowiki@SandboxDT" class=wikipagelink>SandboxDT</a> without the modified Robocode jar? (I still hesitate to try your <a href="robowiki@HackBot" class=wikipagelink>HackBot</a> out ...). I think it's good that you are exposing this security hole anyway. The lesson it teaches is valuable like few! -- <a href="robowiki@PEZ" class=wikipagelink>PEZ</a>
<p>
Thanks mate.. nice of you to say that. And I think you're right there.. (as in I think it's windows-only). As for robocode checking it: I'd agree with you except that Robocode is very nicely platform independant at the moment. I'd hate to see it messed up with Windows-specific code. What do you think? Anyway, I submitted a bug-report to sun prior to releasing this bot. It's my hope that they will fix it as soon as possible. 
<p>
To answer your other question: No, it won't beat Sandbox. It won't beat any other of the other serious bots, and for that matter, it probably wouldn't even beat the sample bots. But that was never my intention. I might work on something serious in the future, but it depends on how much time I have. (I don't know how you guys do it!) -- <a href="robowiki@Troy" class=wikipagelink>Troy</a>
<p>
Would it really be a platform dependent check? Just checking the jar file so that it includes only local files wouldn't hurt on any platform. I wouldn't be surprised if other jar-extractors have the same security glitches. -- <a href="robowiki@PEZ" class=wikipagelink>PEZ</a>
<p>
How would you determine whether a file has a negative path or not? With windows, for 
example, you would have to check to see whether it contains ".." or whether "\" is the
first character. This check would likely be different on other platforms. You do make a good point about other jar-extractors having similar problems.. but we should also be careful.. platform-specific code is like the thin end of a wedge. Once you allow a little in, it's hard to stop the rest following. -- <a href="robowiki@Troy" class=wikipagelink>Troy</a>
<p>
Very clever. So now that I've gone and made all the robocode files read-only, do you have any plans to write a real bot? --<a href="robowiki@David_Alves" class=wikipagelink>David Alves</a>
<p>
By the way, for those people such as PEZ who might like to try this bot but who have reservations (or indeed, an OS other than windows) here is a safer solution:
<OL >
<li> Extract my bot's 'class' file explicitly, and copy it to the Robocode/Robots<a href="robowiki@action=edit&id=HackBot/Robots" class=wikipageedit>?</a> directory. Don't extract the entire jar file!
<li> Extract the file '<a href="robowiki@NeuralNet" class=wikipagelink>NeuralNet</a>.dat' explicitly, rename it to 'PatchedRoboCode.jar' and put it in the robocode directory
<li> Type the following into the command line: java -Xmx256M -jar PatchedRobocode.jar
</OL>
If you do this, it means you can run the patch entirely within the java sandbox, and without having to run any scripts. -- <a href="robowiki@Troy" class=wikipagelink>Troy</a>
<p>
How exactly did you make this patch for robocode? Doesn't this involve decompiling and reverse-engineering robocode? -- <a href="robowiki@Dummy" class=wikipagelink>Dummy</a> 
<p>
Yes it did, as he explains on the <a href="robowiki@HackBot" class=wikipagelink>HackBot</a> page. This happened once before (though the previous one wasn't as clever), with the "M1" bot. That one exploited a bug in Robocode to create "special weapons". When the bug was fixed, the author distributed a modified version of robocode that would still allow the M1 to do its magic. You can read Mat Nelson's email to the author of the M1 bot here: <a rel="nofollow" href="http://www.solin.net/code/email.txt">http://www.solin.net/code/email.txt</a>  As for my above question, I wasn't being sarcastic or anything, I'm honestly curious: are you going to write any normal bots now@ --<a href="robowiki?David_Alves" class=wikipagelink>David Alves</a>
<p>
Having read Mat's e-mail to the M1 creator I have to say this. I don't know how M1 was distributed, but <a href="robowiki@HackBot" class=wikipagelink>HackBot</a> is covered by all due disclaimers you could ever ask for. It uncovers a serious security shortcoming and has the good with it that it raises the healthy care we must apply when executing other peoples code. How long will it take before someone uses this exploit to install a custom notepad.exe or some such? Someone without the good intentions <a href="robowiki@Troy" class=wikipagelink>Troy</a> has. -- <a href="robowiki@PEZ" class=wikipagelink>PEZ</a>
<p>
Thanks for the vote of confidence PEZ. I realise it's often difficult to accept people's word in good faith, particularly on the net.. but it's nice to know there's still some humanity left in us. :-)  Well, in any case it's not really in my hands at the moment. I've spoken with the maintainer of the 'Cryptopia' site and he's stated that, although he has not received any complaint thus far from sun or ibm, if he does, he will immediately remove the bot. Thanks for the info David. -- <a href="robowiki@Troy" class=wikipagelink>Troy</a>
<p>
David, as for writing normal bots: 'KissMyClass<a href="robowiki@action=edit&id=KissMyClass" class=wikipageedit>?</a>' has a fair bit of good code hidden within it. Movement is 100% complete; all that would need to be done is to remove the 'special' inputs, and replace them with estimations of bullet positions. These would probably be based on when the other bots fire, as well as the estimated direction of fire (one might increase the accuracy of the latter by taking note whenever you're hit, and doing the math). I've no idea how well it would do, but it'd sure be fun to try.
<p>
Unfortunately, the major issue for me is not strategy.. it's finding time to work on a robot. Unless I've been grossly misinformed, I can still get neither paid nor laid from this.. :-) -- <a href="robowiki@Troy" class=wikipagelink>Troy</a>
</div><hr class=wikilinefooter>
<div class=wikifooter><form method="post" action="robowiki" enctype="application/x-www-form-urlencoded">
<a href="robowiki@Robo_Home" class=wikipagelink>Robo Home</a> | <a href="robowiki@Changes" class=wikipagelink>Changes</a> | <a href="robowiki@action=editprefs">Preferences</a> | <a href='?action=index'>AllPages</a><br>
<a href="robowiki@action=edit&id=HackBot" class=wikipageedit>Edit text of this page</a> | <a href="robowiki@action=history&id=HackBot">View other revisions</a><br>Last edited June 15, 2004 7:49 EST by <a href="robowiki@PEZ" title="ID 1959 from 212.75.87.xxx">PEZ</a> <a href="robowiki@action=browse&diff=1&id=HackBot">(diff)</a><br>Search: <input type="text" name="search"  size="20" /><input type="hidden" name="dosearch" value="1"  /></form></div>
</body>
</html>