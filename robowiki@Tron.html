<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML><HEAD><TITLE>Tron - Robo Wiki -= Collecting Robocode Knowledge =-</TITLE>
<META NAME='KEYWORDS' CONTENT='Tron'/>
<LINK REL="stylesheet" HREF="/robodocs/wiki.css">
</HEAD><BODY BGCOLOR="white">
<div class=wikiheader><h1><a href="robowiki@Robo_Home"><img src="/images/RoboWiki.png" alt="[Home]" border=0 align="right"></a><a href="robowiki@back=Tron">Tron</a></h1><a href="robowiki@Robo_Home" class=wikipagelink>Robo Home</a> | <a href="robowiki@Changes" class=wikipagelink>Changes</a> | <a href="robowiki@action=editprefs">Preferences</a> | <a href='?action=index'>AllPages</a><br>
<hr class=wikilineheader></div><div class=wikitext><center><img src="http://robocode.aclsi.pt/tron/tron_logo1.jpg"><br>
<font size = -1>by <a href="robowiki@ABC" class=wikipagelink>ABC</a></font></center><br>
<a rel="nofollow"  href="#news">News</a> - <a rel="nofollow"  href="#chat">Chat</a>
<H4>Description</H4>

<p>
Tron is a melee speciallist, it managed to stay in the top for a long time, ruled Simon's GladiatorialLeague<a href="robowiki@action=edit&id=GladiatorialLeague" class=wikipageedit>?</a> for some time and reached the finals in the <a href="robowiki@RobocodeRumble" class=wikipagelink>RobocodeRumble</a>.
<p>
I came up with the idea while trying to make a "corner move" for <a href="robowiki@Shadow" class=wikipagelink>Shadow</a>. I needed it to make a sharp 90 deegrees turn to follow the walls in a corner, so I decided to make a new bot that allways turned 90º, that way it would be very easy to avoid walls. I never thought it would be so efective against most targeting algorithms, but I soon found out ;).
<p>
<H4>How does it <a href="robowiki@Movement" class=wikipagelink>move</a>?</H4>

<p>
I only moves in 4 directions (up, down, left or right), making sharp 90º turns. 
<p>
<H4>How does it fire?</H4>

<p>
Classic: The main targeting works like an enhanced version of <a href="robowiki@MiniTron" class=wikipagelink>MiniTron</a>, an iterative linear/circular targeting. It keeps a small history of the enemy's run times to account for oscillators. It also has "special case" targeting for "stop'n'go" bots and bullet dodgers.
<p>
New (v1.3+): A pattern recognition <a href="robowiki@TronsGun" class=wikipagelink>targeting</a> that works in melee (I hope ;)).
<p>
<H4>How does it <a href="robowiki@DodgingBullets" class=wikipagelink>dodge bullets</a>?</H4>

<p>
It moves in a very predictable way for humans but very hard for robots.. ;)
<p>
<H4>How does the <a href="robowiki@Melee" class=wikipagelink>melee</a> strategy differ from <a href="robowiki@OneOnOne" class=wikipagelink>one-on-one</a>  strategy?</H4>

<p>
It uses a "zone based" anti-gravity logic for melee. For <a href="robowiki@OneOnOne" class=wikipagelink>OneOnOne</a> versions prior to 1.3 it just circles the enemy inverting direction when near a wall. Versions 1.3+ use a movement strategy similar to <a href="robowiki@Shadow" class=wikipagelink>Shadow</a> for <a href="robowiki@OneOnOne" class=wikipagelink>OneOnOne</a>.
<p>
<H4>How does it select a target to attack/avoid in <a href="robowiki@Melee" class=wikipagelink>melee</a> ?</H4>

<p>
It selects the closest enemy as a target. To avoid "thrashing" between enemies it doesn't change targets until a bot is 200px (IIRC) closer than the current target, or if the other "candidate" is atacking him.
<p>
<H4>What does it save between rounds and matches?</H4>

<p>
Between matches: Nothing.
Between rounds: It (currently) saves the last 3000 scans from each enemy, used for targeting, and some misc stats.
<p>
<H4>Where did you get the name?</H4>

<p>
Isn't it obvious? :) From the classic game (and sci-fi movie) Tron. I think the game was played with motorcycles, but hey, "Tanks can play too!". ;)
<p>
<H4>Can I use your code?</H4>

<p>
It is not open source. I'm a very sloppy coder (when I can ;)), please use the code in <a href="robowiki@MiniTron" class=wikipagelink>MiniTron</a>.
<p>
<H4>What's next for your robot?</H4>

<p>
I'm currently improving the new targeting. It looks very promising, I get a consistent 2nd place in my tests (melee, 500 rounds minimum), and I still have a few ideas for improvements.
<p>
<H4>What other robot(s) is it based on?</H4>

<p>
The original targeting code was Shadow's.
<p>
<hr noshade class=wikiline size=1>
<a rel="nofollow"  name="news"><b>What's new</b></a><br>
<font size=1>(2004-06-29)</font> <b>v3.11 released:</b> Shadow's 3.11 gun with some (mostly untested) melee updates. +16 1on1 ranking points, I'm happy :).<br>
<font size=1>(2004-05-11)</font> <b>v3.06 released:</b> Stronger against the weak, weaker against the strong. Rating: 1947<br>
<font size=1>(2004-05-06)</font> <b>v3.05 released:</b> Stronger against the strong, weaker against the weak.<br>
<font size=1>(2004-05-01)</font> <b>v3.04 released:</b> Lots of small changes to the 1on1 movement.<br>
<font size=1>(2004-04-29)</font> <b>v3.03 released:</b> Old melee code re-activated. Further 1on1 tests.<br>
<font size=1>(2004-04-27)</font> <b>v3.02 released:</b> More testing. Still no melee.<br>
<font size=1>(2004-04-24)</font> <b>v3 test version released:</b> Testing a new 1on1 movement in the Rumble, no melee strategy. To be completed...<br>
<font size=1>(2003-09-07)</font> <b>v2.02 released:</b> Improved movement, first version ever to smoke Cigaret. :)<br>
<font size=1>(2003-08-12)</font> <b>v2.01 released:</b> Restructured and partially rewriten. Supports the targeting challenge. Exactly the same movement as v1.5. Improved 1on1 and (long term) melee performance. More to come soon...<br>
<font size=1>(2003-08-02)</font> <b>v2 Hype:</b>In the last couple of weeks I've been (slowly) rewriting Tron almost from scratch in hopes of getting a more structured framework for improvements and maybe even a new bot. I just finished the first version of the improved targeting and the results look very promissing. It now learns for 10x the number of rounds (from 3000 scans to 30000!), just by replacing java's <a href="robowiki@LinkedList" class=wikipagelink>LinkedList</a> class with a custom made (read: as simple as they get) double-linked list. My advice: never use the Java collection classes in a time critical inner loop, they are slow as hell! Anyway, if the movement rewrite goes as well as the targeting, I hope to release a new and improved version of Tron in the next few weeks. Comming soon to a Robocode Arena near you! :)<br>
<font size=1>(2003-05-24)</font> <b>v1.5 released:</b> Better than ever melee performance, had it's first win (followed closely by DT) in a 5000 round battle today. I'm going in circles with 1on1, should be better against some opponents, worse against others (slightly better overall, I hope)... need some new targeting idea here, I'm happy with the movement for now. Data saving between battles postponed again.<br>
<font size=1>(2003-04-29)</font> <b>CL Ranking:</b> #1 in the Champions League ranking, and, just noticed it, melee highscore!<br>
<font size=1>(2003-04-27)</font> <b>v1.4's first <a href="robowiki@EternalRumble" class=wikipagelink>EternalRumble</a> results:</b> 1st melee, 3rd 1on1(!), can you imagine the smile on my face right now? :)<br>
<font size=1>(2003-04-25)</font> <b>v1.4 released:</b> 100% Tron-like 1on1 movement, hard to hit, I hope ;). My first (serious) entry as a 1on1 competitor, comments welcome....
<hr noshade class=wikiline size=1>
<a rel="nofollow"  name="chat"><b>Comments</b></a><br>
For the past year Tron has been the only bot I've consistently been impressed by, and the trend continues. I knew you'd knock DT off the melee throne, nicely done! -- <a href="robowiki@Kuuran" class=wikipagelink>Kuuran</a>
<p>
Very impressive. Well done!!! (it's nice to see DT out of the top position). I never expected pattern matchers to be useful in melee. How are you dealing with the problem of not having continuous information? -- <a href="robowiki@Albert" class=wikipagelink>Albert</a>
<p>
Thanks! It uses a very "loose" pattern matcher: every frame (scan) it computes a number, currently speed+distance traveled over the previous 15/30/60/120 ticks "projected" onto the enemy's current movement direction. It then finds the 20 (ATM) most similar scans from the last 3000 (a simple subtraction), and computes the firing angles that would have hit the enemy's center then. From those angles it chooses the one that would have "hit", with a tolerance of 2*bot length, in most of those ocasions... hard to explain, but it works :) -- <a href="robowiki@ABC" class=wikipagelink>ABC</a>
<p>
Great done <a href="robowiki@ABC" class=wikipagelink>ABC</a>,You killed the DT's melee legend,Tron get 200 score more than DT,I think DT would harldy to get champion back.:)
Hi,<a href="robowiki@Albert" class=wikipagelink>Albert</a>,<a href="robowiki@Nimrod" class=wikipagelink>Nimrod</a> is useing PM for a long time,you can check its code(code is in Nimrod's jar file). -- <a href="robowiki@Iiley" class=wikipagelink>iiley</a>
<p>
I've always been a fan of Tron.  Simple movement, yet hard to hit.  Excellent in melee and pretty good at 1-on-1 too, and judging from recent results, getting better every day.  Keep up the excellent work!  -- <a href="robowiki@Ray_Vermette" class=wikipagelink>Ray Vermette</a>.
<p>
Again, I can't say enough that I've always thought Tron was brilliant, and it's ability to adapt to the times has exceeded that of any other bot I've ever seen.
<p>
That said, I have something strange I've noticed. While the Trons trash DT 1.71 quite painfully in melees, if I include 1.61 everyone seems to drop somewhat significantly. Tron 1.5 still usually wins, and Tron 1.4 does better than it would otherwise, but DT 1.71 seems to drop like a stone, DT 1.61 wins the ones that Tron 1.5 doesn't. Try tossing in DT 1.61 to a few of your tests and tell me I'm not crazy? -- <a href="robowiki@Kuuran" class=wikipagelink>Kuuran</a>
<p>
Thanks, I guess it pays to be different... ;)
About the strange results, did you clean both DT's data files before your test? I just ran a 500 round battle, Tron 1.5 won, DT 1.61 got 2nd, very slightly ahead of 1.71. I think Paul Evans didn't change much (if anything) of DT's melee strategy from v1.61 to v1.71, it's just that DT's long term learning is very powerfull. <a href="robowiki@ABC" class=wikipagelink>ABC</a>
<p>
Just like to point out something to you - Tron 2 is outstanding! -- <a href="robowiki@Kawigi" class=wikipagelink>Kawigi</a>
<p>
Why thanks a lot, I'm very happy with my latest improvements, I think my new targeting has a lot of potential. With some movement improvements I believe I can make Tron a melee king contender again and maybe a 2nd place 1on1... I'll be on holidays for the next 2 weeks, development will be slower, but I'll bring my laptop with me. ;) -- <a href="robowiki@ABC" class=wikipagelink>ABC</a>
<p>
GARR! In planning the new segmentation axis I just added to the development version of <a href="robowiki@Fractal" class=wikipagelink>Fractal</a>, I was sure it would give it a definitive edge over Tron (not that I built it specifically against Tron, but it was sure to be an advantage! :D). So what do I see when I finally test it out against Tron? It doesn't work in the slightest!! It's Tron's little jiggling motion as it moves around that tears the segmentation axis to pieces; in watching Tron jiggle Fractal continuously toggles back and forth across the span of the axis, only serving to confuse Fractal way more. It's quite funny to see a match between Tron and Fractal though, because Fractal's gunning isn't so much the problem as is its movement; while Fractal can hit Tron a semi-reasonable amount of time, Tron doesn't miss. The round barely lasts a couple hundred ticks. In any case, at least it does enlighten me onto a flaw in the axis, which some bots like Tron automatically capitalize on (Fractal itself for example, another being <a href="robowiki@SandboxDT" class=wikipagelink>SandboxDT</a> of course). I need to rethink and rebuild the axis from scratch to compensate for this problem; luckily, most of what I'll rebuild for it will be useful when I rebuild Fractal's movement. Anyway, keep up the good work with Tron! :D -- <a href="robowiki@Vuen" class=wikipagelink>Vuen</a>
<p>
I have a flag to turn it off (zigzag=true/false), I have tried many times to optimise the movement without it, but everytime I reach the conclusion that it's better to leave it on. :) -- <a href="robowiki@ABC" class=wikipagelink>ABC</a>
<hr noshade class=wikiline size=1>
This v3 movement for Tron. Is it <a href="robowiki@WaveSurfing" class=wikipagelink>WaveSurfing</a>? -- <a href="robowiki@PEZ" class=wikipagelink>PEZ</a>
<p>
Yep, no more <a href="robowiki@HeadOnTargeting" class=wikipagelink>HeadOnTargeting</a> problem bots... I just finished the first 500 rounds test, a tie against <a href="robowiki@RaikoMX" class=wikipagelink>RaikoMX</a> 0.29, slightly better than I expected. ;) -- <a href="robowiki@ABC" class=wikipagelink>ABC</a>
<p>
Cool! I started a Tron-moving wave surfer some weeks ago, but never finished it. It's not Tron if it's not Tron anyway. =) -- <a href="robowiki@PEZ" class=wikipagelink>PEZ</a>
<p>
Well, this version of Tron is not very Tron, the fist sentence on this page reads "<i>Tron is a melee speciallist</i>"... --- <a href="robowiki@ABC" class=wikipagelink>ABC</a>
<p>
Yeah. But wave surfing in melee could get pretty confused I guess.  -- <a href="robowiki@PEZ" class=wikipagelink>PEZ</a>
<p>
<a href="robowiki@BlestPain" class=wikipagelink>BlestPain</a> is trying to do it, though. -- <a href="robowiki@Kawigi" class=wikipagelink>Kawigi</a>
<p>
I think maybe an APM movement would work better in melee, I'll see if I can come up with something after I optimise the 1on1 movement. For now I'll just plug Tron's old melee code into it's new structure, afterall it still ranks pretty high in the melee rumble... ;) -- <a href="robowiki@ABC" class=wikipagelink>ABC</a>
<p>
I've been playing around with MeleeAPM<a href="robowiki@action=edit&id=MeleeAPM" class=wikipageedit>?</a> with little success. I've been trying to encorparate it into a  minimum risk type movement, avoiding the predicted point by adding a gravity to it. It may just be because my PM works purely on absolute position change, but it seems to make my bot oscillate and not flee big groups of angry robots as i'd like it to. This is probably due to my implementation. The other problem is the number of turns i skip. predicting my position for each enemy on the battlefield is really really slow, so i narrowed it down to whether i was the closest opponent or whether they had fired at me in the last 150 ticks. Even searchign 7 scans over a 1000 scan record i skip 30+ turns a round. I may just trying pattern matchign from the target. the only good thing is taht at the moment i can beat the current <a href="robowiki@Tron" class=wikipagelink>Tron</a> in melee. YAY!! --<a href="robowiki@Brainfade" class=wikipagelink>Brainfade</a> 
<p>
My client is complaining about version 3.02, it can´t download it:
<pre>
F:\Java\robocode\robots&gt;java -Dsun.io.useCanonCaches=false -Xmx256M -cp .;../rob
ocode.jar;../codesize.jar; roborumble.RoboRumbleAtHome ./roborumble/roborumble.t
xt
Iteration number 0
Downloading participants list ...
Downloading missing bots ...
java.util.zip.ZipException: error in opening zip file
Downloaded file is wrong or corrupted:abc.tron3.Tron_3.02.jar
Could not download bot abc.tron3.Tron_3.02.jar
Ignoring abc.tron3.Tron_3.02.jar: .\abc.tron3.Tron_3.02.jar (O sistema nÒo pode
encontrar o arquivo especificado)
Ignoring abc.tron3.Tron_3.02.jar: .\abc.tron3.Tron_3.02.jar (O sistema nÒo pode
encontrar o arquivo especificado)
Downloading rating files ...
Preparing battles list ... Using smart battles is true
Executing battles ...
Fighting battle 0 ... mz.FemtoGod 1.1,cx.nano.Smog 1.5
</pre>
-- <a href="robowiki@Axe" class=wikipagelink>Axe</a>
<p>
Strange, can you manually download it from <a rel="nofollow" href="http://robocode.aclsi.pt/tron/abc.tron3.Tron_3.02.jar">http://robocode.aclsi.pt/tron/abc.tron3.Tron_3.02.jar</a>? I'll upload a new version as soon as the repository goes back online.
<p>
Btw, i´m trying <a href="robowiki@SilverSurfer" class=wikipagelink>SilverSurfer</a> version 2.12 without any saving data. It is similar to version 2.07, that scored 2009.46... Let´s see the difference. -- <a href="robowiki@Axe" class=wikipagelink>Axe</a>  
<p>
Looks like it makes a big difference in your case, is that version exactly the same as 2.07? Pre-saved data should probably make a difference if your adapting speed is slow... -- <a href="robowiki@ABC" class=wikipagelink>ABC</a>
<p>
~ 25 pts. difference, exactly the same code as 2.07. This makes a lot more sense to me than your zero pts... But it depends, probably, in how u segment the hitten GFs. I am using 27 segments (3 for distance, 3 for acceleration &amp; 3 for absolute velocity). Without the saving, a <a href="robowiki@HeadOnTargeting" class=wikipagelink>HeadOnTargeting</a> (for example) can hit me at least 27 times in each match... Btw, (if u dont mind telling us) how do u segment your <a href="robowiki@WaveSurfing" class=wikipagelink>WaveSurfing</a>? If you have less segmentation, it can explain the zero diff without saving. I don't think that the pre-saved data make all that diff, although i'll try a version today with saving and without pre-saved... -- <a href="robowiki@Axe" class=wikipagelink>Axe</a>
<p>
It might be that Shadpw<a href="robowiki@action=edit&id=Shadpw" class=wikipageedit>?</a> doesn't only surf on hits. It also surfs on visits, making it flatten its curve quite fast. At least I think this is so. Bots that only does adaption (like <a href="robowiki@Pugilist" class=wikipagelink>Pugilist</a> and I think <a href="robowiki@SilverSurfer" class=wikipagelink>SilverSurfer</a>?) only learn the hard way and thus can gain quite a lot with data saving. Hmmm. Maybe I can break the 2K barrier by making a mega P that saves <a href="robowiki@EnemyWave" class=wikipagelink>EnemyWave</a> data? Tempting to try... But then if I succeed I might not be hungry enough to push my mini P beyond that dream limit. -- <a href="robowiki@PEZ" class=wikipagelink>PEZ</a>
<p>
Like I said, I tried countless wavesurfing variants. The 2.48 to 2.49 jump (that put me in the 2kclub) consisted in the removal of the flattener. Shadow 2.49 surfs hits only, segmented by distance (9), acceleration (3), speed (3), and using 19 bins. I also increased the data smoothing (adapting speed) a lot, smoothing the data not only across bins but also across segments. That way Shadow only needs to take 1 hit from a <a href="robowiki@HeadOnTargeting" class=wikipagelink>HeadOnTargeting</a> bot to instantly dodge it "perfectly". And that's where, imo, most of the ranking points come from. -- <a href="robowiki@ABC" class=wikipagelink>ABC</a>
<p>
YES! That's how to do it! Thanks for sharing! -- <a href="robowiki@PEZ" class=wikipagelink>PEZ</a>
<p>
Bloody brilliant. That way you can have more segments, without "paying the cost" for it. Now it makes a lot of sense the zero diff without saving. Highly adaptive. Congratulations, and thanks for sharing... -- <a href="robowiki@Axe" class=wikipagelink>Axe</a>
<p>
(edit conflict) You are (both) welcome, glad I could help. I wouldn't go the data saving way, I'm sure it is possible to reach 2k points with a mini without it, and you (PEZ) are just the guy to do it (Rozu seems to have given up). Good luck. :) -- <a href="robowiki@ABC" class=wikipagelink>ABC</a>
<p>
I sure will try! And <a href="robowiki@Rozu" class=wikipagelink>rozu</a> might wake up now when his minibot is challenged. =) I have no idea how to smooth across segments with my 34 bytes though. Data saving is out of the question too of course. Even if I might be able to fit data restore... But it's much more fun without all that data saving stuff so I won't go that path just yet. -- <a href="robowiki@PEZ" class=wikipagelink>PEZ</a>
<p>
An implementation question for you. I don't know if you have noticed the problems I had with smoothing the edge bins? (The edge bins don't have neighbours on boths sides so they presumably get a too low smoothed count.) Do you think this is a real problem? And if you do, what strategy do you have for countering it? If it is a real problem I guess it get even more important to deal with it when smoothing across segments. -- <a href="robowiki@PEZ" class=wikipagelink>PEZ</a>
<p>
OK, there's no way I can fit segment smoothing. But I now try with using two sets of visit counts. One unsegmented and one segmented (5 distance, 3 bullet power) using the unsegmented one when the segmented one is unvisited. I doubt this will make a huge rating difference, since P already avoids head on fire as perfect as it can while still wall bouncing as much as it does. -- <a href="robowiki@PEZ" class=wikipagelink>PEZ</a>
<p>
I don't have a definitive answer for the edge smoothing problem... I thought a lot about it, but I don't remember how (if) I solved it. How do you deal with it in your GF gun?
<p>
Another kind of solution for the learning speed problem I used in some versions of Shadow is to compute the danger of each set of possible segmentations by either using multiple sets of visit counts or just summing the sub-segments. It also worked very well, I did something like this:
<pre>gfDanger = danger2 * dists * acels + danger1 * dists + danger0</pre>
where danger2 is the most segmented visit count, and danger0 is the sum of every visit to the current bin (no segmentation). With this kind of solution you only need bin smoothing to garantee the fastest possible learning rate against simple guns.
<p>
I would expect veteran GF gun coders to know how to solve these problems better than me. :)
<p>
-- <a href="robowiki@ABC" class=wikipagelink>ABC</a>
<p>
I don't smooth my gun GFs. Not that I haven't tried. I have tried it in at least five different ways. But I have never seen it result in better performance. I have now removed the edge smoothing in Pugilist. It doesn't seem to make a difference against my fav test bot (<a href="robowiki@Lacrimas" class=wikipagelink>Lacrimas</a>).
<p>
Your suggestion for learning speed improvements is about what I ended up doing. Well, as much of it as I could fit in 35 bytes that is. =)
<p>
-- <a href="robowiki@PEZ" class=wikipagelink>PEZ</a>
</div><hr class=wikilinefooter>
<div class=wikifooter><form method="post" action="robowiki" enctype="application/x-www-form-urlencoded">
<a href="robowiki@Robo_Home" class=wikipagelink>Robo Home</a> | <a href="robowiki@Changes" class=wikipagelink>Changes</a> | <a href="robowiki@action=editprefs">Preferences</a> | <a href='?action=index'>AllPages</a><br>
<a href="robowiki@action=edit&id=Tron" class=wikipageedit>Edit text of this page</a> | <a href="robowiki@action=history&id=Tron">View other revisions</a><br>Last edited May 9, 2006 21:36 EST by <a href="robowiki@PEZ" title="ID 6286 from 1-1-7-24a.dre.sth.bostream.se">PEZ</a> <a href="robowiki@action=browse&diff=1&id=Tron">(diff)</a><br>Search: <input type="text" name="search"  size="20" /><input type="hidden" name="dosearch" value="1"  /></form></div>
</body>
</html>