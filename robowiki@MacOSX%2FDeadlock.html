<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML><HEAD><TITLE>MacOSX/Deadlock - Robo Wiki -= Collecting Robocode Knowledge =-</TITLE>
<META NAME='KEYWORDS' CONTENT='Mac, OSX/Deadlock'/>
<LINK REL="stylesheet" HREF="/robodocs/wiki.css">
</HEAD><BODY BGCOLOR="white">
<div class=wikiheader><h1><a href="robowiki?Robo_Home"><img src="/images/RoboWiki.png" alt="[Home]" border=0 align="right"></a><a href="robowiki?back=/Deadlock">MacOSX/Deadlock</a></h1><a href="robowiki?Robo_Home" class=wikipagelink>Robo Home</a> | <a href="robowiki?MacOSX" class=wikipagelink>MacOSX</a> | <a href="robowiki?Changes" class=wikipagelink>Changes</a> | <a href="robowiki?action=editprefs">Preferences</a> | <a href='?action=index'>AllPages</a><br>
<hr class=wikilineheader></div><div class=wikitext><a href="robowiki?Tron" class=wikipagelink>Tron</a> 1.32 somehow causes a deadlock on my computer. <br />
It doesn't happen every round, but nearly always happens in one of the first 20 or so. <br />
I've only had it occur in 1v1, but it's possible it could happen in melees as well. <br />
Attempts to force quit cause the java VM to dump the following information:
<pre>
FOUND A JAVA LEVEL DEADLOCK:
----------------------------
"abc.Tron 1.32":
  waiting to lock monitor 0x4b55c (object 0x68521ce8, a robocode.battle.Battle),
  which is locked by "Battle Thread"
"Battle Thread":
  waiting to lock monitor 0x4b5ac (object 0x68522510, a robocode.peer.RobotPeer),
  which is locked by "abc.Tron 1.32"

JAVA STACK INFORMATION FOR THREADS LISTED ABOVE:
------------------------------------------------
Java Stack for "abc.Tron 1.32":
==========
	at robocode.battle.Battle.getActiveRobots(Battle.java:1043)
	at robocode.peer.RobotPeer.getOthers(RobotPeer.java:528)
	at robocode.Robot.getOthers(Robot.java:444)
	at abc.Tron.calcBulletPower(Tron.java:785)
	at abc.Tron$bInfoLog.getGunAngle(Tron.java:1022)
	at abc.Tron$bInfoLog.findBestMatch(Tron.java:978)
	at abc.Tron.aimGun(Tron.java:804)
	at abc.Tron.run(Tron.java:329)
	at robocode.peer.RobotPeer.run(RobotPeer.java:616)
	at java.lang.Thread.run(Thread.java:491)
Java Stack for "Battle Thread":
==========
	at robocode.peer.RobotPeer.isDead(RobotPeer.java:588)
	at robocode.battle.Battle.oneTeamRemaining(Battle.java:1056)
	at robocode.battle.Battle.checkBattleOver(Battle.java:677)
	at robocode.battle.Battle.runRound(Battle.java:468)
	at robocode.battle.Battle.run(Battle.java:110)
	at java.lang.Thread.run(Thread.java:491)

Found 1 deadlock.
</pre>
<p>
I have no clue if this is a problem w/ OS X's java or with Robocode, put I'm posting it so someone with more experience than I can figure it out.
<p>
--Hanji
</div><hr class=wikilinefooter>
<div class=wikifooter><form method="post" action="robowiki" enctype="application/x-www-form-urlencoded">
<a href="robowiki?Robo_Home" class=wikipagelink>Robo Home</a> | <a href="robowiki?MacOSX" class=wikipagelink>MacOSX</a> | <a href="robowiki?Changes" class=wikipagelink>Changes</a> | <a href="robowiki?action=editprefs">Preferences</a> | <a href='?action=index'>AllPages</a><br>
<a href="robowiki?action=edit&id=MacOSX/Deadlock" class=wikipageedit>Edit text of this page</a> | <a href="robowiki?action=history&id=MacOSX/Deadlock">View other revisions</a><br>Last edited April 20, 2003 13:47 EST by <a href="robowiki?Hanji" title="ID 1269 from h00039321c480.ne.client2.attbi.com">Hanji</a> <a href="robowiki?action=browse&diff=1&id=MacOSX/Deadlock">(diff)</a><br>Search: <input type="text" name="search"  size="20" /><input type="hidden" name="dosearch" value="1"  /></form></div>
</body>
</html>