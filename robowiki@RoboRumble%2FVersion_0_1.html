<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML><HEAD><TITLE>RoboRumble/Version 0 1 - Robo Wiki -= Collecting Robocode Knowledge =-</TITLE>
<META NAME='KEYWORDS' CONTENT='Robo, Rumble, Version, 0, 1'/>
<LINK REL="stylesheet" HREF="/robodocs/wiki.css">
</HEAD><BODY BGCOLOR="white">
<div class=wikiheader><h1><a href="robowiki@Robo_Home"><img src="/images/RoboWiki.png" alt="[Home]" border=0 align="right"></a><a href="robowiki@back=/Version+0+1">RoboRumble/Version 0 1</a></h1><a href="robowiki@Robo_Home" class=wikipagelink>Robo Home</a> | <a href="robowiki@RoboRumble" class=wikipagelink>RoboRumble</a> | <a href="robowiki@Changes" class=wikipagelink>Changes</a> | <a href="robowiki@action=editprefs">Preferences</a> | <a href='?action=index'>AllPages</a><br>
<hr class=wikilineheader></div><div class=wikitext>These are the <a href="robowiki@RoboRumble/RequestedFeatures" class=wikipagelink>/RequestedFeatures</a> edited to reflect version 0.1:
<p>
<UL >
<li> Server
<UL >
<li> Allow people to add their bots to one or more rankings
<li> Keep track of new and updated bots by forcing people to send them to the server
<li> Create new Battles
<UL >
<li> for version 0.1 maybe simply run all battles once a week?
<li> or automatically run all battles after each update?
</UL>
<li> Delegate battles to run to clients
<UL >
<li> Also send relevant new and updated bot jars to clients
</UL>
<li> Keep Results and datafiles
<li> Publish rankings
<UL >
<li> Should we already get to work on the <a href="robowiki@EternalRumble" class=wikipagelink>EternalRumble</a> in this first version?
</UL>
</UL>
<li> Client
<UL >
<li> Connect to server, and get work
<UL >
<li> Work includes new and updated bot jars
</UL>
<li> The client should be able to run the without staying connected to internet
<li> Interface with robocode using <a href="robowiki@RoboLeague" class=wikipagelink>RoboLeague</a>
<li> Return results
</UL>
</UL>
<p>
<p>
<hr noshade class=wikiline size=1>
<p>
<p>
<p>
<strong>On the subject of stable rankings:</strong> It wouldn't be difficult to do both. Have a main results page which integrates all results, and have a second results page which only pays attention to results within the last 24 hours or some other sort period of time. The recent results page would be like a for fun league to see who came out on top today, the overall page would be your stable and meaningful rankings, yet they could both use the same data and wouldn't require terribly much extra work if it's all just dumped into a database (sort by date, take newest, voila). -- <a href="robowiki@Kuuran" class=wikipagelink>Kuuran</a>
<p>
I think it dangerous to digress away from speaking about features but I will for just a moment. Unless I am mistaken, the ELO system is just another way of taking the output from a Roboleague run and refiguring the output data. I know <a href="robowiki@Kawigi" class=wikipagelink>Kawigi</a> uses the output of a league as feed data for an Excel spreadhseet to determine his projected ER rankings. As such, this leads me to believe this is more a presentation and formatting issue than anything else. As long as the output of the system is in a clearly defined format, then the manner in which it is parsed and scored can be left to the "owner" of that particular league / scoring system. This is also why I would suggest we stay at the 10,000 ft level and discuss features first. Once defined we can start to drill into the detail a bit. Sorry if I sound bossy. I am just trying to herd some cats here and see if we can in fact stay focused as a community long enough to actually rally for a good cause =^&gt;. I will most likely start nagging about details next week ;) -- <a href="robowiki@Sparafucil3" class=wikipagelink>jim</a>
<p>
Kuuran, great idea to use the latest results and tranform it in different ways. We could maybe add that to the project goals. I mean "... and amuse us". RO is fun because of it brute rankings I think. As for implementation. If we assume we are not going to rewrite <a href="robowiki@RoboLeague" class=wikipagelink>RoboLeague</a> we can also assume we have XML as the output format of each run. It's a pretty good format if you ask me. =) -- <a href="robowiki@PEZ" class=wikipagelink>PEZ</a>
<p>
I would agree to start by using <a href="robowiki@RoboLeague" class=wikipagelink>RoboLeague</a> and its XML output. Furthermore, it's easy for the server to create battles, because the division/league setup is also stored in XML by <a href="robowiki@RoboLeague" class=wikipagelink>RoboLeague</a>. If we do this this, I can help with the XSL-T stuff... Maybe <a href="robowiki@RoboLeague" class=wikipagelink>RoboLeague</a> is not perfect, but it saves us a lot of work at the start. We can always decide later to either hack <a href="robowiki@RoboLeague" class=wikipagelink>RoboLeague</a> or build something new. -- <a href="robowiki@Vic" class=wikipagelink>Vic</a>
<p>
I have been teaching myself XSLT recently, and would agree that that is the way to go.  I can probably help with that. -- <a href="robowiki@Tango" class=wikipagelink>Tango</a>
<p>
I have always thought that Roboleague would serve as the basis of the client side and an interim step to a truly distributed system. It already interfaces with the repository, it just needs to be automated some how. If we start out by focusing on getting an automated way to make Roboleague go out and make sure it has all the latest implementations of each bot in it's league then we will have automated the update, even if we are stuck with a human requirement to add new robots. Automating the addition of new robots would be a bit more difficult and I have not wrapped my head around that idea. I think that would be part of the initiative to distribute the processing and be one of the earliest tasks that we would need to tackle in distributing the process. -- <a href="robowiki@Sparafucil3" class=wikipagelink>jim</a>
<p>
The client won't be running matches with the same robots each time.  The server will just give them a list of matches, and then <a href="robowiki@RoboLeague" class=wikipagelink>RoboLeague</a> can make sure they have it, and if not download it (different versions of the same bot have different names, so it's just a matter of not putting in the code that <a href="robowiki@RoboLeague" class=wikipagelink>RoboLeague</a> has to group different versions). -- <a href="robowiki@Tango" class=wikipagelink>Tango</a>
<p>
Ok, I just read the documentation of <a href="robowiki@RoboLeague" class=wikipagelink>RoboLeague</a>: <a href="robowiki@RoboLeague" class=wikipagelink>RoboLeague</a> already has distributed battles among its features. It can automatically update bots. It also automatically sends the bot jars to the clients so updating will be no problem. Has anyone already played around with these features? Maybe we could organize a test .. -- <a href="robowiki@Vic" class=wikipagelink>Vic</a>
<p>
<a href="robowiki@Vic" class=wikipagelink>Vic</a> I was not aware that it could do all of this. Can you point me to the place where you saw this. In particular the the automatic update piece. If you can point it out I will give it a whirl. -- <a href="robowiki@Sparafucil3" class=wikipagelink>jim</a>
<p>
Roboleague's current distributed league system requires full-time servers, essentially. What it does is, when you run a league, it looks for the other servers and sends them their chunks, it's not an @HOME style thing. Unless you wanted to say everyone get online between the hours of 9 and 10 (or something) in a given timezone and then run the league routinely at those hours, but that's not really getting away from the horrors of league maintenance, it's just making it faster. -- <a href="robowiki@Kuuran" class=wikipagelink>Kuuran</a>
<p>
The documentation on distributed leagues is here: <a rel="nofollow" href="https://user.cs.tu-berlin.de/~lulli/roboleague/RoboLeague.html#distributed_league">https://user.cs.tu-berlin.de/~lulli/roboleague/RoboLeague.html#distributed_league</a> ... <a href="robowiki@Kuuran" class=wikipagelink>Kuuran</a>, what does <a href="robowiki@RoboLeague" class=wikipagelink>RoboLeague</a> do when one of the servers is not online? If it just skips that server then there is no problem. In that case a client only needs to identify itself to the server once. The server would then check each time it wants to distribute a battle if that client is online. -- <a href="robowiki@Vic" class=wikipagelink>Vic</a>
<p>
That is a good point, we'd need to test that behaviour - unless you have a source I don't. However that leaves the issue of the client having to remain online for the duration of the battle if it's going to be handled in realtime like that. -- <a href="robowiki@Kuuran" class=wikipagelink>Kuuran</a>
<p>
Are you sure it has to be online the whole time?  We might be able to get round that.  Either way, it seems someone has already done most of the work for us. :-) -- <a href="robowiki@Tango" class=wikipagelink>Tango</a>
<p>
I have tested what <a href="robowiki@RoboLeague" class=wikipagelink>RoboLeague</a> does with a known client that is offline, and it simply skips them. So no problem there. A client needs only to register to the server once. I also tested if <a href="robowiki@RoboLeague" class=wikipagelink>RoboLeague</a> sends the jars of new or updated bots to the client and that also works perfectly. I tested on one computer running a client and server with two different bot directories. I will test using two computers over a network tomorrow. -- <a href="robowiki@Vic" class=wikipagelink>Vic</a>
<p>
Yes, but the point was more that the client probably won't handle a client popping offline mid-battle sanely. -- <a href="robowiki@Kuuran" class=wikipagelink>Kuuran</a>
<p>
I have a few points to make here (sorry if they have been discussed elsewhere or should not be posted here).
<UL >
<li> There is an issue with robot data files with an off line client/@home approach unless a bot does not appear in more than one outstanding battle package (and data files are returned with the result data).
<li> I have a DSL connection - several other robocoders will have as well - it may be best to have clients on-line only (escapes/eases many issues with my first point).
<li> The robocode directory structure on a client PC should be separate from any robocode installation the owner uses to prevent version/corruption issues.
<UL >
<li> that's no problem. A <a href="robowiki@RoboLeague" class=wikipagelink>RoboLeague</a> DivisionServer<a href="robowiki@action=edit&id=DivisionServer" class=wikipageedit>?</a> uses it's own directory -- <a href="robowiki@Vic" class=wikipagelink>Vic</a>
</UL>
<li> Some way of throttling the client would be nice so that 100% of the CPU is not used by the league (or it should be easy to start and stop the @home service - perhaps restrict to 10 round battles (sorry ABC))
<UL >
<li> All kernels have some way of lowering/increasing priority of a process, it's just a matter of finding how we can use java to set priority of the roboleague process up and down (one below default should be sufficient to make sure all other processes get CPU time). This may require native code. If the problem is that you want idle CPU cycles, that's more complicated, I suppose we could hack it so Thread.sleep is called for some percentage of the iterations (instead of the code that updates the next frame). -- <a href="robowiki@Kuuran" class=wikipagelink>Kuuran</a>
<li> The Java Thread class has a method called setPriority that fits our needs quite nicely.  I tested it to make sure, and a minimum priority thread takes up 99% CPU time most of the time, but the system takes cycles away from the thread and runs smooth as glass when you do something else.  I even started up a Quake 3 game and it ran like, "What infinite loop?"  Word to the wise, however: do not under any circumstances set a thread's priority to maximum and then proceed to throw it into an infinite loop.  You'd think this would be obvious, but I am known to do supremely stupid things from time to time. -- <a href="robowiki@Nano" class=wikipagelink>nano</a>
<UL >
<li> In using this in this way, we also need to possibly redefine when turns get skipped. -- <a href="robowiki@Kawigi" class=wikipagelink>Kawigi</a>
</UL>
</UL>
<li> If roboleague is used, the individual battle results are required - not just the final results.  For Ranking, it is necessary to keep one record of total scores for each pair of robots over all battles they have fought against each other (this is also true for melee) - plus a round cound to determin the importance of a result.  (database is kept much smaller by limiting battles between bots of similar ranking).
<UL >
<li> With individual battle results, you mean the details of each round? Then we have yet another reason for restricting the length of the battles, since the files can grow pretty large. -- <a href="robowiki@PEZ" class=wikipagelink>PEZ</a>
<li> I assume you mean the results of each match (not round)? <a href="robowiki@RoboLeague" class=wikipagelink>RoboLeague</a> produces XML files which contain the individual match results. These can easily be imported into a database. I may be able to help here. -- <a href="robowiki@Vic" class=wikipagelink>Vic</a>
<li> You only need the total scores for each robot and the total number of rounds played for each pair of robots. -- <a href="robowiki@Paul_Evans" class=wikipagelink>Paul Evans</a>
</UL>
<li> The rating formular may need to tweaking to more accuratly rate bots (and a different formular may be required between melee and 1v1).  I can do this once a database of result pairs is created. -- <a href="robowiki@Paul_Evans" class=wikipagelink>Paul Evans</a>
</UL>
<p>
<hr noshade class=wikiline size=1>
<p>
Jim and I did a transatlantic test on <a href="robowiki@RoboLeague" class=wikipagelink>RoboLeague</a>'s Distributed Battles and it was quite easy to make it work:
<UL >
<li> the client is called DivisionServer<a href="robowiki@action=edit&id=DivisionServer" class=wikipageedit>?</a> (ships with <a href="robowiki@RoboLeague" class=wikipagelink>RoboLeague</a>). Just start it up and give it its own directory to store bot jars in.
<li> the server (running <a href="robowiki@RoboLeague" class=wikipagelink>RoboLeague</a>) needs to get the name and address of the client.
<li> when you run a league, <a href="robowiki@RoboLeague" class=wikipagelink>RoboLeague</a> will distribute the division amongst all registered clients that are online at that moment.
<li> it will send those clients the division information (which robots) and run that division.
<li> it will also send the robot jars to the client.
<li> the server itself also runs a division
<li> when the server gets the results from the clients, it combines and processes them.
</UL>
<p>
What we haven't tested yet:
<UL >
<li> what happens if a client is cut off during battle?
<li> does the server always send robot jars, or only the updated/new ones?
<li> does it use fixed ports, or random ports?
<li> can we do all this without using the roboleague gui?
</UL>
<p>
issues:
<UL >
<li> Without a firewall it works fine, but we had problems configuring one specific firewall. Jim thought that this client/server system might use random ports, which would make it a problem.
</UL>
<p>
-- <a href="robowiki@Vic" class=wikipagelink>Vic</a>
<p>
Are we thinking that we will just set the server to continually run battles, and it will therefore be using whichever servers are online, all the time? -- <a href="robowiki@Tango" class=wikipagelink>Tango</a>
</div><hr class=wikilinefooter>
<div class=wikifooter><form method="post" action="robowiki" enctype="application/x-www-form-urlencoded">
<a href="robowiki@Robo_Home" class=wikipagelink>Robo Home</a> | <a href="robowiki@RoboRumble" class=wikipagelink>RoboRumble</a> | <a href="robowiki@Changes" class=wikipagelink>Changes</a> | <a href="robowiki@action=editprefs">Preferences</a> | <a href='?action=index'>AllPages</a><br>
<a href="robowiki@action=edit&id=RoboRumble/Version_0_1" class=wikipageedit>Edit text of this page</a> | <a href="robowiki@action=history&id=RoboRumble/Version_0_1">View other revisions</a><br>Last edited August 24, 2003 16:28 EST by <a href="robowiki@Kawigi" title="ID 1125 from proxyb.byu.edu">Kawigi</a> <a href="robowiki@action=browse&diff=1&id=RoboRumble/Version_0_1">(diff)</a><br>Search: <input type="text" name="search"  size="20" /><input type="hidden" name="dosearch" value="1"  /></form></div>
</body>
</html>