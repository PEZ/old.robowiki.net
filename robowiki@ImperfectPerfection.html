<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML><HEAD><TITLE>ImperfectPerfection - Robo Wiki -= Collecting Robocode Knowledge =-</TITLE>
<META NAME='KEYWORDS' CONTENT='Imperfect, Perfection'/>
<LINK REL="stylesheet" HREF="/robodocs/wiki.css">
</HEAD><BODY BGCOLOR="white">
<div class=wikiheader><h1><a href="robowiki@Robo_Home"><img src="/images/RoboWiki.png" alt="[Home]" border=0 align="right"></a><a href="robowiki@back=ImperfectPerfection">ImperfectPerfection</a></h1><a href="robowiki@Robo_Home" class=wikipagelink>Robo Home</a> | <a href="robowiki@Changes" class=wikipagelink>Changes</a> | <a href="robowiki@action=editprefs">Preferences</a> | <a href='?action=index'>AllPages</a><br>
<hr class=wikilineheader></div><div class=wikitext>I'm putting this toguether since <a href="robowiki@WaveSurfing" class=wikipagelink>WaveSurfing</a> is getting so much adepts. -- <a href="robowiki@Axe" class=wikipagelink>Axe</a>
<p>
<H2>The problem</H2>

<p>
Since a lot of people is focusing in getting their <a href="robowiki@WaveSurfing" class=wikipagelink>WaveSurfing</a> working perfectly, I thinked that it would be a good idea to write this page explaining a particularity in the <a href="robowiki@RoboRumble" class=wikipagelink>RoboRumble</a> rating system (ELO).<br>
ELO rating system gives higher points to higher scoring differences (%), this is why <a href="robowiki@WaveSurfing" class=wikipagelink>WaveSurfing</a> is so profitable (since it allows u to score above 99% against <a href="robowiki@HOT" class=wikipagelink>HOT</a>s).<br>
So, getting a perfect score (100%) against a bot sounds a very good idea, right? The answer is DEFINITELY NO! 100% scores actually would give u infinite points, and for obvious reasons the <a href="robowiki@RoboRumble" class=wikipagelink>RoboRumble</a> server simply discard those results! Some people could think that this is a flaw, but i don't think so... My thoughts might sound very subjective, but there they go: 
<UL >
<li> This is a kind of yin-yung stuff: absolute perfection is actually imperfection.
<li> 100% scoring is an unnecessary humiliation. Be humble!
<li> 100% scoring is like reaching light-speed (it requires infinite energy), thus u probably have bended the space-time and leaved the <a href="robowiki@RoboRumble" class=wikipagelink>RoboRumble</a> universe. You aren't in Kansas any more, Dorothy :)
</UL>
<p>
<TABLE CELLSPACING='0' CELLPADDING='1' BORDER='1'>
<TR VALIGN='CENTER' ><td colspan='0.5'>Scoring diff. </td><td colspan="0.5"> ELO calculated rating</td></TR>
<TR VALIGN='CENTER' ><td align="left" colspan='0.5'> 50.00%</td><td colspan="0.5"> 0.0</td></TR>
<TR VALIGN='CENTER' ><td align="left" colspan='0.5'> 60.00%</td><td colspan="0.5"> 108.3</td></TR>
<TR VALIGN='CENTER' ><td align="left" colspan='0.5'> 70.00%</td><td colspan="0.5"> 226.3</td></TR>
<TR VALIGN='CENTER' ><td align="left" colspan='0.5'> 80.00%</td><td colspan="0.5"> 370.2</td></TR>
<TR VALIGN='CENTER' ><td align="left" colspan='0.5'> 90.00%</td><td colspan="0.5"> 586.8</td></TR>
<TR VALIGN='CENTER' ><td align="left" colspan='0.5'> 95.00%</td><td colspan="0.5"> 786.3</td></TR>
<TR VALIGN='CENTER' ><td align="left" colspan='0.5'> 99.00%</td><td colspan="0.5"> 1227.0</td></TR>
<TR VALIGN='CENTER' ><td align="left" colspan='0.5'> 99.90%</td><td colspan="0.5"> 1844.0</td></TR>
<TR VALIGN='CENTER' ><td align="left" colspan='0.5'> 99.99%</td><td colspan="0.5"> 2460.0</td></TR>
<TR VALIGN='CENTER' ><td colspan='0.5'> 100.00% </td><td colspan="0.5"> Double.POSITIVE_INFINITY</td></TR>
</TABLE>
<p>
The values of the table above where calculated via <a href="robowiki@ELOCalculator" class=wikipagelink>ELOCalculator</a>
<p>
<H2>The solution</H2>

<p>
It's a pitty throw off such a beatifull result as this, don´t u think? Many people already knows that, and have protected their bots againt it. Here is the algo that is implemented in <a href="robowiki@SilverSurfer" class=wikipagelink>SilverSurfer</a> (i think that <a href="robowiki@RaikoMX" class=wikipagelink>RaikoMX</a> and <a href="robowiki@CassiusClay" class=wikipagelink>CassiusClay</a> have a similar approch):
<UL >
<li> Calculate at each round the enemy scoring (althought i have my own class to do this, <a href="robowiki@Vuen" class=wikipagelink>Vuen</a> was the first to publish, see <a href="robowiki@CalculatingScore" class=wikipagelink>CalculatingScore</a>). A cheaper alternative is simply have a Static boolean and set it to true within OnHitByBullet<a href="robowiki@action=edit&id=OnHitByBullet" class=wikipageedit>?</a> method.
<li> In the last 3 rounds: if i havent been hit yet, and 0.1 &lt; enemyEnergy &lt; 40, i simply sit still untill it hits me.
</UL>
<p>
<H2>Chat</H2>
   
<p>
... and then the losing bot does this:
<PRE >
 System.out.println();
</PRE>
It really works. -- <a href="robowiki@Jonathan" class=wikipagelink>Jonathan</a>
<p>
??? Didnt understand what u mean???? -- <a href="robowiki@Axe" class=wikipagelink>Axe</a>
<p>
It's somekind of pull-the-pin-and-swallow-the-granade technique? Do u mean that System.out.println() disables the bot? If so, it´s strange, i use this to print in my bot and never got disabled... -- <a href="robowiki@Axe" class=wikipagelink>Axe</a>
<p>
Using System.out disables a bot for me (Robot.out doesn't). So if the losing bot tries to print on it there's no way for the (im)perfect bot to get a &lt;100% score. -- <a href="robowiki@Jonathan" class=wikipagelink>Jonathan</a>
<p>
I use System.out all the time. Never seen it disable anything. What's the error message, if any? -- <a href="robowiki@PEZ" class=wikipagelink>PEZ</a>
<p>
Strange. Now I tried it again it doesn't get some security exception plus being disabled. It even prints to the bot's own PrintStream<a href="robowiki@action=edit&id=PrintStream" class=wikipageedit>?</a>. I'm going to look at that... -- <a href="robowiki@Jonathan" class=wikipagelink>Jonathan</a>
<p>
Can u run <a href="robowiki@SilverSurfer" class=wikipagelink>SilverSurfer</a> (or <a href="robowiki@CassiusClay" class=wikipagelink>CassiusClay</a>) in your computer, and see if it gets disabled? -- <a href="robowiki@Axe" class=wikipagelink>Axe</a>
<p>
All the bots I downloaded have always worked, regardless of the PrintStream<a href="robowiki@action=edit&id=PrintStream" class=wikipageedit>?</a> they used (finally took some time to actually look at their source now). Really strange. -- <a href="robowiki@Jonathan" class=wikipagelink>Jonathan</a>
<p>
iirc, the <a href="robowiki@Robocode" class=wikipagelink>Robocode</a> code :) redirects the System.out so, i would be surprised if System.out violates the SecurityManager<a href="robowiki@action=edit&id=SecurityManager" class=wikipageedit>?</a>... Unless, obviously, that u do something like: int i=0, System.out.println(9/i);... Anyway, thanks for testing. -- <a href="robowiki@Axe" class=wikipagelink>Axe</a>
<p>
Probably something else (seemingly insignificant) in the code that was changed at the same time you switched streams pointers.
<p>
On the issue of this page. I know I am one that has wined about the extreme rating adjustments that's the result of a near 100% score. But a few weeks ago I started to think about the peculiarity that the raw score percentage rankings are identical to the ELO ones. Check out: <a rel="nofollow" href="http://rumble.robowiki.net/servlet/PremierLeague@game=roborumble&amp;table=2">http://rumble.robowiki.net/servlet/PremierLeague?game=roborumble&amp;table=2</a> And. Yes, I do have perfection protection in <a href="robowiki@CassiusClay" class=wikipagelink>CassiusClay</a>. But I'm thinking of removing it. It's not too often CC shuts out an opponent anyway and when it does the RR@H clients keep running that pairing until the losing bots get at least 1 point. Things will probably sort themselves out I figure. On the other hand I wonder if we couldn't just fix this at the server end by setting any bots score to Math.max(1, uploaded_score). -- <a href="robowiki@PEZ" class=wikipagelink>PEZ</a>
<UL >
<li> That´s an excelent idea... Please let me know if u do so, then i´ll remove my protection and erase this page... -- <a href="robowiki@Axe" class=wikipagelink>Axe</a>
</UL>
<p>
@PEZ: Considering the current RR@Home client, I have a question about that phrase: "...the RR@H clients keep running that pairing until the losing bots get at least 1 point.". Doesn´t the client run with priority the battles only until 500 matches? Let´s say that u have a perfect <a href="robowiki@WaveSurfer" class=wikipagelink>WaveSurfer</a> that allways scores 100% against <a href="robowiki@HOT" class=wikipagelink>HOT</a>s... Even if the client re-run those 100% battles u will still score 100%, and never gain those deserved points, right? Of course that bot is hypothetic. -- <a href="robowiki@Axe" class=wikipagelink>Axe</a>
<p>
I think that the client not only ensures 500 battles, but that it also tries to complete all bots pairing tables. Tell you this, when I have made that perfect surfer I will not hesitate to protect against 100% scores. =) -- <a href="robowiki@PEZ" class=wikipagelink>PEZ</a>
<p>
<img src="http://davidalves.net/robocode/perfectscore100rounds.png">
<p>
--<a href="robowiki@David_Alves" class=wikipagelink>David Alves</a>
<p>
Whhhooooo!!!!!!!!!!! Please let us know what you fixed and how your surfing works. -- <a href="robowiki@PEZ" class=wikipagelink>PEZ</a>
</div><hr class=wikilinefooter>
<div class=wikifooter><form method="post" action="robowiki" enctype="application/x-www-form-urlencoded">
<a href="robowiki@Robo_Home" class=wikipagelink>Robo Home</a> | <a href="robowiki@Changes" class=wikipagelink>Changes</a> | <a href="robowiki@action=editprefs">Preferences</a> | <a href='?action=index'>AllPages</a><br>
<a href="robowiki@action=edit&id=ImperfectPerfection" class=wikipageedit>Edit text of this page</a> | <a href="robowiki@action=history&id=ImperfectPerfection">View other revisions</a><br>Last edited September 22, 2004 9:05 EST by <a href="robowiki@PEZ" title="ID 1959 from ua-213-115-147-228.cust.bredbandsbolaget.se">PEZ</a> <a href="robowiki@action=browse&diff=1&id=ImperfectPerfection">(diff)</a><br>Search: <input type="text" name="search"  size="20" /><input type="hidden" name="dosearch" value="1"  /></form></div>
</body>
</html>