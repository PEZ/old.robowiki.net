<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML><HEAD><TITLE>WritingFastCode - Robo Wiki -= Collecting Robocode Knowledge =-</TITLE>
<META NAME='KEYWORDS' CONTENT='Writing, Fast, Code'/>
<LINK REL="stylesheet" HREF="/robodocs/wiki.css">
</HEAD><BODY BGCOLOR="white">
<div class=wikiheader><h1><a href="robowiki@Robo_Home"><img src="/images/RoboWiki.png" alt="[Home]" border=0 align="right"></a><a href="robowiki@back=WritingFastCode">WritingFastCode</a></h1><a href="robowiki@Robo_Home" class=wikipagelink>Robo Home</a> | <a href="robowiki@Changes" class=wikipagelink>Changes</a> | <a href="robowiki@action=editprefs">Preferences</a> | <a href='?action=index'>AllPages</a><br>
<hr class=wikilineheader></div><div class=wikitext>This is a collection of tips on how to write fast code so you won't have a <a href="robowiki@SlowBot" class=wikipagelink>SlowBot</a>.
<p>
<strong>General tips:</strong>
<p>
<p>
<UL >
<li> Use a profiler to determine which parts of your code are the slowest. The answer may surprise you. A good profiler for <a href="robowiki@Eclipse" class=wikipagelink>Eclipse</a> is here: <a rel="nofollow" href="https://eclipsecolorer.sourceforge.net/index_profiler.html">https://eclipsecolorer.sourceforge.net/index_profiler.html</a>
<li> Avoid Math.sqrt() and the trig functions (Math.atan() Math.atan2(), Math.tan(), Math.cos(), Math.sin()) inside loops. See <a href="robowiki@WritingFastCode/Distance" class=wikipagelink>/Distance</a> for tips on avoiding Math.sqrt when calculating distance.
</UL>
<p>
<p>
<strong>Fast code snippets</strong>
<UL >
<li> Find how far a given point is from the nearest wall: <a href="robowiki@WritingFastCode/WallDistance" class=wikipagelink>/WallDistance</a>
<li> Tips for speeding up distance calculations <a href="robowiki@WritingFastCode/Distance" class=wikipagelink>/Distance</a>
</UL>
<p>
<strong>Methode calls</strong>
<TABLE CELLSPACING='0' CELLPADDING='1' BORDER='1'>
<TR VALIGN='CENTER' ><td colspan='0.5'>Modefiers</td><td colspan="0.5">without JIT</td><td colspan="0.5">JIT</td><td colspan="0.5"></td></TR>
<TR VALIGN='CENTER' ><td colspan='0.5'>public 	</td><td colspan="0.5">5650 	</td><td colspan="0.5">280</td><td colspan="0.5"></td></TR>
<TR VALIGN='CENTER' ><td colspan='0.5'>public with 4 parameters </td><td colspan="0.5">7800</td><td colspan="0.5"> 390</td><td colspan="0.5"></td></TR>
<TR VALIGN='CENTER' ><td colspan='0.5'>public static 	</td><td colspan="0.5">5060 	</td><td colspan="0.5">110</td><td colspan="0.5"></td></TR>
<TR VALIGN='CENTER' ><td colspan='0.5'>protected 	</td><td colspan="0.5">5770 	</td><td colspan="0.5">280</td><td colspan="0.5"></td></TR>
<TR VALIGN='CENTER' ><td colspan='0.5'>private 	</td><td colspan="0.5">5820 	</td><td colspan="0.5">50</td><td colspan="0.5"></td></TR>
<TR VALIGN='CENTER' ><td colspan='0.5'>public synchronized 	</td><td colspan="0.5">9500 </td><td colspan="0.5">4660</td><td colspan="0.5"></td></TR>
<TR VALIGN='CENTER' ><td colspan='0.5'>public final 	</td><td colspan="0.5">6260 	</td><td colspan="0.5">50</td><td colspan="0.5"></td></TR>
</TABLE>
<p>
using JDK 1.2Beta 4 on Pentium II-266MHz under Win95
<p>
<strong>See also</strong>
<UL >
<li> <a href="robowiki@ABCsLinkedListChallenge" class=wikipagelink>ABCsLinkedListChallenge</a>
<li> <a rel="nofollow" href="https://www.javaperformancetuning.com/">https://www.javaperformancetuning.com/</a>
</UL>
<p>
<hr noshade class=wikiline size=1>
<p>
If you dont use multithreading in your bot you should better use <a href="robowiki@ArrayList" class=wikipagelink>ArrayList</a> -Objects instead of LinkedLists<a href="robowiki@action=edit&id=LinkedLists" class=wikipageedit>?</a> or even Vectors as they dont have synchronized access. --<a href="robowiki@Deathcon" class=wikipagelink>deathcon</a> 
<p>
Actually <code>LinkedList</code> is not synchronized (at least in java 1.4.2). I use it sometimes when i need a FIFO structure, since i think that the necessary insert- and remove-operations should be very fast there. Never tested whether its truly faster than using an <code>ArrayList</code> though :-) --<a href="robowiki@Mue" class=wikipagelink>Mue</a>
<p>
David A, can you give a brief description of how to setup the Eclipse profiler for use with robocode? I cant understand how you can profile an external application. Thanks in advance, --<a href="robowiki@Wolfman" class=wikipagelink>wolfman</a>
<p>
Try using this: <a rel="nofollow" href="https://sourceforge.net/projects/eclipsecolorer/">https://sourceforge.net/projects/eclipsecolorer/</a>  Extract to your plugins directory then go to "Run..." and you can configure the profiler. Let me know if you run into problems. -- <a href="robowiki@David_Alves" class=wikipagelink>David Alves</a>
<p>
Erm .... but im not running Robocode from inside of eclipse, so how do I profile it? I dont "run" anything from inside eclipse .... I just use it to compile my robot. So how do I profile from within eclipse? --<a href="robowiki@Wolfman" class=wikipagelink>Wolfman</a>
<p>
As much as I like FastBots<a href="robowiki@action=edit&id=FastBots" class=wikipageedit>?</a> I get a bit uneasy when reading tips like those above. (Well, the tips about using a profiler is excellent, but the rest...) I think the general advice should be to avoid optimizing for speed. It tends to make the code less fexible and a few months from now the speed optimizations might show to have the opposite result. Like if your general structure changes or the Java distribution comes with surprises. In fact it might be that your JVM and Java environment isn't the same as the one where the most battles are run by RR@H clients. 
<p>
I don't recommend optimizing your entire bot for speed, only a few lines on the inside of loops that are called thousands of times per turn. --<a href="robowiki@David_Alves" class=wikipagelink>David Alves</a>
<p>
David, I do appreciate you've started a page about speeding up our bots. I'm just adding that I think the general approach should be to not optimize for speed. Optimize for clarity and speed will follow in most cases. And when it doesn't, at least it's clear where to apply speed tricks. -- <a href="robowiki@PEZ" class=wikipagelink>PEZ</a>
<p>
Agreed. I've only spent time speeding up 20 lines of code on Phoenix out of a total of 1441. For the vast majority of the code clarity is more important, but for a few critical lines it's worth optimizing.  --<a href="robowiki@David_Alves" class=wikipagelink>David Alves</a>
<p>
Added a table where u can see the times, different methode-calls use (waste :D). It's quite old but should give a reasonable overview. Perhaps i find a newer version i can add. --<a href="robowiki@Deathcon" class=wikipagelink>deathcon</a>
</div><hr class=wikilinefooter>
<div class=wikifooter><form method="post" action="robowiki" enctype="application/x-www-form-urlencoded">
<a href="robowiki@Robo_Home" class=wikipagelink>Robo Home</a> | <a href="robowiki@Changes" class=wikipagelink>Changes</a> | <a href="robowiki@action=editprefs">Preferences</a> | <a href='?action=index'>AllPages</a><br>
<a href="robowiki@action=edit&id=WritingFastCode" class=wikipageedit>Edit text of this page</a> | <a href="robowiki@action=history&id=WritingFastCode">View other revisions</a><br>Last edited November 4, 2004 13:57 EST by <a href="robowiki@Deathcon" title="ID 3747 from dialin-212-144-170-066.arcor-ip.net">Deathcon</a> <a href="robowiki@action=browse&diff=1&id=WritingFastCode">(diff)</a><br>Search: <input type="text" name="search"  size="20" /><input type="hidden" name="dosearch" value="1"  /></form></div>
</body>
</html>