<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML><HEAD><TITLE>Fallen - Robo Wiki -= Collecting Robocode Knowledge =-</TITLE>
<META NAME='KEYWORDS' CONTENT='Fallen'/>
<LINK REL="stylesheet" HREF="/robodocs/wiki.css">
</HEAD><BODY BGCOLOR="white">
<div class=wikiheader><h1><a href="robowiki@Robo_Home"><img src="/images/RoboWiki.png" alt="[Home]" border=0 align="right"></a><a href="robowiki@back=Fallen">Fallen</a></h1><a href="robowiki@Robo_Home" class=wikipagelink>Robo Home</a> | <a href="robowiki@Changes" class=wikipagelink>Changes</a> | <a href="robowiki@action=editprefs">Preferences</a> | <a href='?action=index'>AllPages</a><br>
<hr class=wikilineheader></div><div class=wikitext><UL >
<li> <strong>0.63</strong> (July 6 2004) - rating: 
<UL >
<li> Decided to try something new. Accumulating the stats differently, no more rolling averages...
</UL>
</UL>
<p>
<UL >
<li> <strong>0.61</strong> (July 6 2004) - rating: Recalled
<UL >
<li> Changed the segmenatation 
</UL>
</UL>
<p>
<UL >
<li> <strong>0.6</strong> (July 6 2004) - rating: 1873.4
<UL >
<li> Put in distance segmentation 
</UL>
</UL>
<p>
<UL >
<li> <strong>0.54</strong> (June 22 2004) - rating: 1900.9
<UL >
<li> Turned off the learning stuff that caused it to crash after it had seen 10 opponents. 
</UL>
</UL>
<p>
<UL >
<li> <strong>0.53</strong> (June 22 2004) - rating: recalled
<UL >
<li> Tweaking the the rolling average value, and the wall bouncing value.
</UL>
</UL>
<p>
<UL >
<li> <strong>0.52</strong> (June 21 2004) - rating: 1884.8
<UL >
<li> Eliminated wall bouncing in all but the most extreme cases.
</UL>
</UL>
<p>
<UL >
<li> <strong>0.51</strong> (June 21 2004) - rating: 1891.45
<UL >
<li> Reverted to previous projection code and fixed the bug. 
</UL>
</UL>
<p>
<UL >
<li> <strong>0.5</strong> (June 21 2004) - rating: recalled
<UL >
<li> Realised that there was a huge bug in my wave surfing, that was causing me to produce very effective random movement, but not surf properly. Projection code completely rewritten. 
</UL>
</UL>
<p>
<p>
<H4>How does it <a href="robowiki@Movement" class=wikipagelink>move</a>?</H4>

It's a <a href="robowiki@WaveSurfer" class=wikipagelink>WaveSurfer</a> using RollingAverages<a href="robowiki@action=edit&id=RollingAverages" class=wikipageedit>?</a> (last 3 hits) with randomness and some other strange stuff thrown in..
<H4>How does it fire?</H4>

<a href="robowiki@GuessFactorTargeting" class=wikipagelink>GuessFactorTargeting</a>, using <a href="robowiki@Pugilist" class=wikipagelink>Pugilist</a>'s gun - thanks <a href="robowiki@PEZ" class=wikipagelink>PEZ</a>
<H4>How does it <a href="robowiki@DodgingBullets" class=wikipagelink>dodge bullets</a>?</H4>

By <a href="robowiki@WaveSurfing" class=wikipagelink>WaveSurfing</a>
<H4>What does it save between rounds and matches?</H4>

Between round - Pretty much everything
Between battles - Nothing
<H4>Where did you get the name?</H4>

I was listening to teh album "Waking the Fallen" by Avenged Sevenfold when i started coding it.
<H4>Can I use your code?</H4>

It's there if you feel the need...
<H4>What's next for your robot?</H4>

Better wavesurfing, ill add segmentation when i like the way it moves.
<H4>Does it have any <a href="robowiki@WhiteWhale" class=wikipagelink>WhiteWhale</a>s?</H4>

Most probably <a href="robowiki@Locke" class=wikipagelink>Locke</a>.
<H4>What other robot(s) is it based on?</H4>

It steal [[Pugilist]'s gun, its got soem helper functions from lots of people, and i am using a modified version of <a href="robowiki@Paul_Evans" class=wikipagelink>Paul Evans</a> Guess class.
<hr noshade class=wikiline size=1>
Now a <a href="robowiki@WaveSurfer" class=wikipagelink>WaveSurfer</a>. Currently borrowing PEZ's pluggable gun (If you don't mind PEZ), i just wanted to see if my wave surfing was much cop... --<a href="robowiki@Brainfade" class=wikipagelink>Brainfade</a>
<p>
Of course I don't mind. But I guess you will have to resist the temptation to tune the gun to get an accurate answer on how your movement measures up. =) -- <a href="robowiki@PEZ" class=wikipagelink>PEZ</a>
<p>
You that are stepping into <a href="robowiki@WaveSurfing" class=wikipagelink>WaveSurfing</a>, i´ll recomend that u use first <a href="robowiki@HeadOnTargeting" class=wikipagelink>HeadOnTargeting</a> bots (like <a href="robowiki@HawkOnFire" class=wikipagelink>HawkOnFire</a> or <a href="robowiki@NanoStalker" class=wikipagelink>NanoStalker</a>) to test your <a href="robowiki@WaveSurfing" class=wikipagelink>WaveSurfing</a>. A good <a href="robowiki@WaveSurfing" class=wikipagelink>WaveSurfing</a> should be able to defeat these simple targeting bots by 99%, that was my primary goal when i started (and it helped a lot). Most of the points that <a href="robowiki@WaveSurfers" class=wikipagelink>WaveSurfers</a> get come from simple targeters like HeadOn<a href="robowiki@action=edit&id=HeadOn" class=wikipageedit>?</a> or linear. A good advice also, is to use <a href="robowiki@RobocodeGLV014" class=wikipagelink>RobocodeGLV014</a> (if u aren´t yet) to graph your waves &amp; bins, <a href="robowiki@WaveSurfing" class=wikipagelink>WaveSurfing</a> is a nest of huge potential bugs (at least for me is). -- <a href="robowiki@Axe" class=wikipagelink>Axe</a>
<p>
Nest of bugs? Bugs in wave surfing? Naaah, never even heard about it... eahm right. Only problem I see when you get the wave surfing  working against head on targeting is that, not too rarely, you don't allow the enemy bot even a single point, meaning the result is not accepted :) Good luck! -- <a href="robowiki@Pulsar" class=wikipagelink>Pulsar</a>
<p>
Ok, i've loving this:<pre>
cx.Lacrimas_1.36 54.7 1 25-5-2004:20:50 26.7 28.0 </pre>
that's the new version with changed adpatation speed, and a few bits and bots tweaked. Although its no world beater, the victory over lacrimas is enough to put a smile on my face.. --<a href="robowiki@Brainfade" class=wikipagelink>Brainfade</a>
<p>
In fact no, screw Lacrimas (nothing personal iiley) but this just blows my mind:
<pre> pe.SandboxDT_3.02 51.6 1 25-5-2004:21:6 28.5 23.1 </pre>
I know that when DT has another crack with saved data i'll get creamed, but until i'll have an extremely smug lookign grin on my face...--<a href="robowiki@Brainfade" class=wikipagelink>Brainfade</a>
<hr noshade class=wikiline size=1>
Ok, i'm beginning to doubt a couple of bits of my code. Especially the code i use to find which are the maximum guess factors i can reach forwards and backwards in the reamining time before the wave hits. My code for workign out the most backwardly point is:
<p>
<pre>public int getBackwardsReachable(double time)
    {
        //Works out the bearing difference from when the wave was fired
        double bearingDiff = robocode.util.Utils.normalRelativeAngle(absoluteBearing(surfing.here, this) - surfing.enemyBearing);
        //Works out my lateral velocity compared to the direction i was going when the wave was fired
        double myVelocity = surfing.direction * lateralVelocity;
        
        //Loop through all the possible times
        for(int i=0; i&lt;time; i++)
        {
            //Increase the velocity to account for acceleration
            if(myVelocity == 1) myVelocity = 2; 
            myVelocity += (myVelocity&gt;0?-2:-1);
            myVelocity = Math.max(-8, myVelocity);
            
            //Work out the bearing difference for this lateral velocity for the current tick
            bearingDiff += surfing.direction*myVelocity/(this.distance(surfing.here));
        }
        
        //Return index corresponding the most backwardly reachable guess factor
        return Math.max(0,Math.min(12+(int)((surfing.direction*bearingDiff/surfing.maxAngle)*12),12));
    }</pre>
<p>
Anything there look wrong to anyone?? --<a href="robowiki@Brainfade" class=wikipagelink>Brainfade</a>
<p>
Ummm, I don't quite follow the velocity trickery there, but it might be right. In my experience it's not necessary though. A rough estimate on how far you can travel works quite good too. But what's more important is the "time" variable you call this method with. I would remove that and instead iterate the wave forward together with the bot in the loop there and then the exit condition would be when the wave hits your iterated bot position. -- <a href="robowiki@PEZ" class=wikipagelink>PEZ</a>
<p>
Yeah, The velocity code tries to find the precise distance i can move forward in the time before the wave hits. It seems to be marginally better than a guess, so i just left it in there. Iterating the wave forward is on my todo list. But it requires me to drastically change my movement code, so i thought id see if i could score some cheap points by throwing in some random elements. The current version favours guess factors that give it the same lateral direction as the enemy has to it, and also tries to throw in some randomness to fool PatternMatchers<a href="robowiki@action=edit&id=PatternMatchers" class=wikipageedit>?</a>. Failed miserably though. Looks like pure surfing is a better way forward... --<a href="robowiki@Brainfade" class=wikipagelink>Brainfade</a>
<p>
Pure surfing is a better start at least, I think. It delivers a sure answer for when you have gotten it to works. There are so many little and big bugs you can have in a surfer. When those are out and pure surfing is working you can go back and see where you can try fool those PM guns and stuff. -- <a href="robowiki@PEZ" class=wikipagelink>PEZ</a>
<hr noshade class=wikiline size=1>
Ok, please i dont understand anymore. Where did i go wrong?? The rating details are here: <a rel="nofollow" href="https://rumble.robowiki.net/servlet/RatingDetails@game=roborumble&amp;name=brainfade.Fallen%200.5">https://rumble.robowiki.net/servlet/RatingDetails?game=roborumble&amp;name=brainfade.Fallen%200.5</a> and teh source is included in teh package. I have some heavy losses to soem really strange bots... --<a href="robowiki@Brainfade" class=wikipagelink>Brainfade</a>
<p>
Haven't checked the source. But your surfing is cleary broken. Watch Fallen against <a href="robowiki@DevilFISH" class=wikipagelink>DevilFISH</a> and you'll see it. Even though DF keeps hitting at GF1 over and over again, Fallen keeps driving in the same direction all the time. Maybe it is some code you have there that's supposed to make you avoid close combat that causes it? If so try removing any such code. -- <a href="robowiki@PEZ" class=wikipagelink>PEZ</a>
<p>
I reverted to an old version of the code and made some changes and it seems to be working much better now. I'm currently going through a last process of tweaking my raw movement. What kind of rating should i be looking for when using unsegmented statistics?? --<a href="robowiki@Brainfade" class=wikipagelink>Brainfade</a>
<p>
Good question. I guess you can get somewhere around 1900 with that. Wait, that's what you have, in'it? =) Seriously, throw in distance and velocity segemantations and you'll boost your rating quite a few points I think. -- <a href="robowiki@PEZ" class=wikipagelink>PEZ</a>
<p>
Ok, here's the final version without any segmentation, and the first release i've ever done that's been extensively tested. Change the wall bouncing threshold, so now it rarely bounces. Also changed the learning speed significantly. i was previously using a rolling average of the last 3 hits, i'm not using 15. let's see if testing pays off...--<a href="robowiki@Brainfade" class=wikipagelink>Brainfade</a>
<p>
Interesting. I'm using the last 2 hits. -- <a href="robowiki@PEZ" class=wikipagelink>PEZ</a>
<p>
Well, from my tests it seems to be that higher numbers work better against the whole range of opponents. I can't guarantee it'll work for you, but when your ranking has stabilized, pick a number between 15 and 20 (it made little difference in my tests and try it). The tests were over 250 rounds, but at the end of the day if it's taking a long time to get hit 15 times, then you really didnt ought to worry about it :) --<a href="robowiki@Brainfade" class=wikipagelink>Brainfade</a>
<p>
I'll try it. Definately. Thanks! -- <a href="robowiki@PEZ" class=wikipagelink>PEZ</a>
<p>
Trying it now. With CC 1.8.9.3. I don't expect it to work the same magic it does for <a href="robowiki@Fallen" class=wikipagelink>Fallen</a> though. Since you are using unsegmented stats there and are more vulnerable for contamination than I am. -- <a href="robowiki@PEZ" class=wikipagelink>PEZ</a>
<p>
Lost 10 points. Now I'll try going to the other extreme and roll the data as fast as can be done with rolling averages. -- <a href="robowiki@PEZ" class=wikipagelink>PEZ</a>
</div><hr class=wikilinefooter>
<div class=wikifooter><form method="post" action="robowiki" enctype="application/x-www-form-urlencoded">
<a href="robowiki@Robo_Home" class=wikipagelink>Robo Home</a> | <a href="robowiki@Changes" class=wikipagelink>Changes</a> | <a href="robowiki@action=editprefs">Preferences</a> | <a href='?action=index'>AllPages</a><br>
<a href="robowiki@action=edit&id=Fallen" class=wikipageedit>Edit text of this page</a> | <a href="robowiki@action=history&id=Fallen">View other revisions</a><br>Last edited July 6, 2004 18:41 EST by <a href="robowiki@Brainfade" title="ID 2329 from 81-86-238-47.dsl.pipex.com">Brainfade</a> <a href="robowiki@action=browse&diff=1&id=Fallen">(diff)</a><br>Search: <input type="text" name="search"  size="20" /><input type="hidden" name="dosearch" value="1"  /></form></div>
</body>
</html>