<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML><HEAD><TITLE>SnippetBot - Robo Wiki -= Collecting Robocode Knowledge =-</TITLE>
<META NAME='KEYWORDS' CONTENT='Snippet, Bot'/>
<LINK REL="stylesheet" HREF="/robodocs/wiki.css">
</HEAD><BODY BGCOLOR="white">
<div class=wikiheader><h1><a href="robowiki?Robo_Home"><img src="/images/RoboWiki.png" alt="[Home]" border=0 align="right"></a><a href="robowiki?back=SnippetBot">SnippetBot</a></h1><a href="robowiki?Robo_Home" class=wikipagelink>Robo Home</a> | <a href="robowiki?Changes" class=wikipagelink>Changes</a> | <a href="robowiki?action=editprefs">Preferences</a> | <a href='?action=index'>AllPages</a><br>
<hr class=wikilineheader></div><div class=wikitext>This is the one bot that I think to be the grandfather of so many of todays bots. I know allt of my bots can trace their lineage directly to it. <a href="robowiki?Jekyl" class=wikipagelink>Jekyl</a> started with this code base and grew from there. The tutorial and code can be found at <s><a rel="nofollow" href="http://www.ecs.soton.ac.uk/~awo101/robocode.html">http://www.ecs.soton.ac.uk/~awo101/robocode.html</a></s> Mirror: <a rel="nofollow" href="http://lhs.fuhsd.org/staff/peck_george/notemplate/robocode/SnippetBot/robocode.html">http://lhs.fuhsd.org/staff/peck_george/notemplate/robocode/SnippetBot/robocode.html</a>. Who else derives their code ultimately from here. I know <a href="robowiki?Paul" class=wikipagelink>Paul</a> says his bots do too. Anyone else? -- <a href="robowiki?Jim" class=wikipagelink>jim</a>
<p>
The basic idea of design (do your thing in the mainloop and keep event-code short) and some parts of the targetting code will be used in the next version (0.6) of <a href="robowiki?GrubbmOne" class=wikipagelink>GrubbmOne</a>. My old stack of code, you can't call it a design, was skipping too much turns. You can't blame me however, I'm just the new grandpa on the block . . . -- <a href="robowiki?GrubbmGait" class=wikipagelink>GrubbmGait</a>
<p>
Well, my bots certainly does not inherit a thing from this one. Why would doing stuff in the main loop and keep the event code short be desirable? I do it the opposite way. Only because it is easier for me to do so. -- <a href="robowiki?PEZ" class=wikipagelink>PEZ</a>
<p>
You're less likely to lose ScannedRobotEvents<a href="robowiki?action=edit&id=ScannedRobotEvents" class=wikipageedit>?</a> if you do it that way. At least that's the theory. Almost all my code is in my main loop too. --<a href="robowiki?David_Alves" class=wikipagelink>David Alves</a>
<p>
I guess I could move most of my code there. Though I don't think I know the execution order of things well enough to do so. Besides, my bots seem to work as they are. =) -- <a href="robowiki?PEZ" class=wikipagelink>PEZ</a>
<p>
If you're losing ScannedRobotEvents<a href="robowiki?action=edit&id=ScannedRobotEvents" class=wikipageedit>?</a>, at least your bot will still do <i>something</i> during that tick because most of the code will be in your main loop. Although it will operate on data that's a timeframe too old, that may still be better than not doing anything at all. --<a href="robowiki?Dummy" class=wikipagelink>Dummy</a>
<p>
uhm... actually I'm not very sure anymore... if you're missing ticks, do you miss events, or will you always skip the entire turn? --<a href="robowiki?Dummy" class=wikipagelink>Dummy</a>
<p>
Maybe someone can test this? I would, but my plate is full getting my RR@H server up. --<a href="robowiki?David_Alves" class=wikipagelink>David Alves</a>
<p>
I've read that you get your events the next turn if you skip only one turn, but that you lose them if you skip more turns in a row. No experimenting yet... -- <a href="robowiki?Jonathan" class=wikipagelink>Jonathan</a>
<p>
@Jonathan: Yeah that's my understanding. I meant test whether it's better to have your code in your event handler or main loop. But for that matter it would be good to test under what conditions you can lose events. I don't think anyone knows for sure. --<a href="robowiki?David_Alves" class=wikipagelink>David Alves</a>
<p>
My fault, my bot was not skipping turns, it just hardly executed the mainloop. Cause of this was the remnant of <a href="robowiki?TrackFire" class=wikipagelink>TrackFire</a>, which uses 'turnGun..' and 'fire' in the scan-event. This caused my bot to get glued to the wall sometimes, because the 'wallmove' code resides in the mainloop. -- <a href="robowiki?GrubbmGait" class=wikipagelink>GrubbmGait</a>
<p>
Lol, <a href="robowiki?SnippetBot" class=wikipagelink>SnippetBot</a> has a HUGE spike at GF 0.0 and pretty much nothing else greater than ± 0.2...but it is still useful as an example for code structure (of course, for 'simple' bots)--<a href="robowiki?Starrynte" class=wikipagelink>Starrynte</a>
<p>
Anyone else notice there are some errors on the <a href="robowiki?SnippetBot" class=wikipagelink>SnippetBot</a> tutorial? Look at this page: <a rel="nofollow" href="http://web.archive.org/web/20060502162133/www.ecs.soton.ac.uk/~awo101/SnippetBotEvents.html">[1]</a>. <pre>(target.name == e.getName())</pre> just doesn't seem like good things to be teaching new Java programmers. I think someone should rewrite the <a href="robowiki?SnippetBot" class=wikipagelink>SnippetBot</a> tutorial on the wiki -- <a href="robowiki?Aziz" class=wikipagelink>Aziz</a>
<p>
<UL >
<li> What's wrong with that? The only places it has that is in the condition of an if statement, where it is correct syntax... right? -- <a href="robowiki?Voidious" class=wikipagelink>Voidious</a>
<UL >
<li> Isn't that the == vs .equals() problem with Strings in Java? Strings in Java may or may not be interned, so the value of this expression is undefined. -- <a href="robowiki?AaronR" class=wikipagelink>AaronR</a>
<UL >
<li> Oh, sheesh! You are obviously right. Perhaps something with how Robocode handles names makes this code happen to work correctly, but yes it should of course be .equals(). -- <a href="robowiki?Voidious" class=wikipagelink>Voidious</a>
<li> It should actually work in this case, since the name is a literal (ie. they reference the same object, instead of making a new string with that sequence of characters each time), but it definitely isn't good Java programming practice =) -- <a href="robowiki?Skilgannon" class=wikipagelink>Skilgannon</a>
<li> It's not a problem with Strings in Java. the == operator compares value stored on the stack. All primitives (int, long, boolean, double, etc etc) are stored on the stack, as well as object references. String is an object, not a primitive type. So comparing two string values with == actually compares there reference (similar to a pointer). If two strings are initialized with the same literal, they may test true for ==, but otherwise not. For example:
</UL>
</UL>
</UL>
<p>
<PRE >
          String a = "hello";
          String b = "hello";
          System.out.println(a == b);
</PRE>
<p>
This will likely print "true". I haven't tested any of this. The following will likely output "false":
<p>
<PRE >
          String a = "hello";
          String b = a + " world";
          String c = "hello world";
          System.out.println(b == c);
</PRE>
<p>
However <pre>System.out.println(b.equals(c));</pre> will print out "true" always. The equals(Object) method is a method defined in the Object class. It doesn't really do much, but most classes implement it. For example, the String's equals() method may compare the string character-by-character to test if it is equal to another. Google it more to find out. Java's == operator is not overloaded for any objects, and it ONLY tests if references are equal. BTW, the following will print "true":
<p>
<PRE >
          String a = "hello"
          String b = a;
          System.out.println(a == b);
</PRE>
<p>
This is because the object reference b has been set to the same object as a, in this case, the String object "hello". When comparing object refences using ==, it tests to see if the references point to the same objects on the heap memory. And actually, you shouldn't assume that it will work. If the code in Robocode is changed in the future in a way that the name setting is implemented the same way, or the Java compiler/JVM changes, you're robo is busted ;) -- <a href="robowiki?Aziz" class=wikipagelink>Aziz</a>
</div><hr class=wikilinefooter>
<div class=wikifooter><form method="post" action="robowiki" enctype="application/x-www-form-urlencoded">
<a href="robowiki?Robo_Home" class=wikipagelink>Robo Home</a> | <a href="robowiki?Changes" class=wikipagelink>Changes</a> | <a href="robowiki?action=editprefs">Preferences</a> | <a href='?action=index'>AllPages</a><br>
<a href="robowiki?action=edit&id=SnippetBot" class=wikipageedit>Edit text of this page</a> | <a href="robowiki?action=history&id=SnippetBot">View other revisions</a><br>Last edited May 22, 2008 7:45 EST by adsl-69-110-145-236.dsl.pltn13.pacbell.net <a href="robowiki?action=browse&diff=1&id=SnippetBot">(diff)</a><br>Search: <input type="text" name="search"  size="20" /><input type="hidden" name="dosearch" value="1"  /></form></div>
</body>
</html>