<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML><HEAD><TITLE>Ali/BumbleBee - Robo Wiki -= Collecting Robocode Knowledge =-</TITLE>
<META NAME='KEYWORDS' CONTENT='Ali, Bumble, Bee'/>
<LINK REL="stylesheet" HREF="/robodocs/wiki.css">
</HEAD><BODY BGCOLOR="white">
<div class=wikiheader><h1><a href="robowiki?Robo_Home"><img src="/images/RoboWiki.png" alt="[Home]" border=0 align="right"></a><a href="robowiki?back=/BumbleBee">Ali/BumbleBee</a></h1><a href="robowiki?Robo_Home" class=wikipagelink>Robo Home</a> | <a href="robowiki?Ali" class=wikipagelink>Ali</a> | <a href="robowiki?Changes" class=wikipagelink>Changes</a> | <a href="robowiki?action=editprefs">Preferences</a> | <a href='?action=index'>AllPages</a><br>
<hr class=wikilineheader></div><b>Difference (from prior major revision)</b>
(no other diffs)<br> <br><strong>Changed: 90c90</strong><br><table width="95%" bgcolor=#ffffaf class=wikidiffold><tr><td>
 Where Bee uses several stat buffers for efficience in both short and long term, this <a rel="nofollow" href="http://www.transwell.net">[gun]</a> uses only the log. I guess I could increase and decrease the fuzziness in the match there to get some of that Bee quality back. I just don't know how to do that in a controlled manner.<br></td></tr></table><table width="95%" bgcolor=#cfffcf class=wikidiffnew><tr><td>
 Where Bee uses several stat buffers for efficience in both short and long term, this gun uses only the log. I guess I could increase and decrease the fuzziness in the match there to get some of that Bee quality back. I just don't know how to do that in a controlled manner.<br></td></tr></table>
 <br><strong>Changed: 99c99</strong><br><table width="95%" bgcolor=#ffffaf class=wikidiffold><tr><td>
 There are still some fundamental differences, though. One of then is that, instead of a fixed MATCH_THRESHOLD, I use a fixed cluster size, so that when you don't have enough close <a rel="nofollow" href="http://www.interseo.com">[matches]</a> you look for tendencies in not so close ones. Very much like using an unsegmented array when you don't have enough data for the segmented ones. -- <a href="robowiki?ABC" class=wikipagelink>ABC</a><br></td></tr></table><table width="95%" bgcolor=#cfffcf class=wikidiffnew><tr><td>
 There are still some fundamental differences, though. One of then is that, instead of a fixed MATCH_THRESHOLD, I use a fixed cluster size, so that when you don't have enough close matches you look for tendencies in not so close ones. Very much like using an unsegmented array when you don't have enough data for the segmented ones. -- <a href="robowiki?ABC" class=wikipagelink>ABC</a><br></td></tr></table>
 <br><strong>Changed: 101c101</strong><br><table width="95%" bgcolor=#ffffaf class=wikidiffold><tr><td>
 Yeah, I haven't a clear idea on how to do that yet. All my attempts have resulted in really slow performance. And since <a href="robowiki?Ali" class=wikipagelink>Ali</a> is already a <a rel="nofollow" href="http://www.navinic.com">[SlowBot]</a> I keep thinking about the problem until I figure out how to do it without eating to much CPU. The cleaning of seldomly used data in the log there. Does that seem reasonable to you? How do you keep your log from not growing infinitly? -- <a href="robowiki?PEZ" class=wikipagelink>PEZ</a><br></td></tr></table><table width="95%" bgcolor=#cfffcf class=wikidiffnew><tr><td>
 Yeah, I haven't a clear idea on how to do that yet. All my attempts have resulted in really slow performance. And since <a href="robowiki?Ali" class=wikipagelink>Ali</a> is already a <a href="robowiki?SlowBot" class=wikipagelink>SlowBot</a> I keep thinking about the problem until I figure out how to do it without eating to much CPU. The cleaning of seldomly used data in the log there. Does that seem reasonable to you? How do you keep your log from not growing infinitly? -- <a href="robowiki?PEZ" class=wikipagelink>PEZ</a><br></td></tr></table>
 <br><strong>Changed: 103c103</strong><br><table width="95%" bgcolor=#ffffaf class=wikidiffold><tr><td>
 You should really look into the fire time only prediction, it will increase your bot's speed like nothing else. I have a gun.class where I deal with that kind of stuff, and all my guns extend that class by overriding the getFireAngle<a href="robowiki?action=edit&id=FireAngle" class=wikipageedit>?</a>(enemy) and other methods. You should maybe try making a HOT gun that does that, and tweak it until it fires at every chance it gets and always HOT, sitting duck is a good tester. I find your log cleaning very interesting, I just cap mine at 30000 scans, it only analyses data from the last 70 rounds or so, like a time-based data decay. Again, execution speed is crucial, you are <a rel="nofollow" href="http://www.activeshow.net">[struggling]</a> with 8000 samples, I use 30000 and still have time to do a lot of PM stuff on it... -- <a href="robowiki?ABC" class=wikipagelink>ABC</a><br></td></tr></table><table width="95%" bgcolor=#cfffcf class=wikidiffnew><tr><td>
 You should really look into the fire time only prediction, it will increase your bot's speed like nothing else. I have a gun.class where I deal with that kind of stuff, and all my guns extend that class by overriding the getFireAngle<a href="robowiki?action=edit&id=FireAngle" class=wikipageedit>?</a>(enemy) and other methods. You should maybe try making a HOT gun that does that, and tweak it until it fires at every chance it gets and always HOT, sitting duck is a good tester. I find your log cleaning very interesting, I just cap mine at 30000 scans, it only analyses data from the last 70 rounds or so, like a time-based data decay. Again, execution speed is crucial, you are struggling with 8000 samples, I use 30000 and still have time to do a lot of PM stuff on it... -- <a href="robowiki?ABC" class=wikipagelink>ABC</a><br></td></tr></table>
 <br><strong>Changed: 109c109</strong><br><table width="95%" bgcolor=#ffffaf class=wikidiffold><tr><td>
 Ali is still a bit faster than Shadow, some 135% faster I think. But you are doing much more stuff and maintain a much larger log so I must definately look into where I can gain <a rel="nofollow" href="http://www.sba.com.cn">[speed]</a>. Time to use that profiler David was talking about. -- <a href="robowiki?PEZ" class=wikipagelink>PEZ</a><br></td></tr></table><table width="95%" bgcolor=#cfffcf class=wikidiffnew><tr><td>
 Ali is still a bit faster than Shadow, some 135% faster I think. But you are doing much more stuff and maintain a much larger log so I must definately look into where I can gain speed. Time to use that profiler David was talking about. -- <a href="robowiki?PEZ" class=wikipagelink>PEZ</a><br></td></tr></table>
 <br><strong>Changed: 119c119</strong><br><table width="95%" bgcolor=#ffffaf class=wikidiffold><tr><td>
 OK so I've now got the matching to run only once per bullet fired. And I also changed to a Manhattan distance calculation which, strangely enough, seems to work better but is also faster. Now the log is allowed to grow above 30000 waves and Ali is still more than twice as fast as Shadow I think. As it should be since my gun use simple GF techniques instead of projecting movement to find out where to fire. I've tweaked the weighting of some of the dimensions now and the gun performs better in my tests. Let's see what the <a rel="nofollow" href="http://www.dapt.org">[rumble]</a> says. -- <a href="robowiki?PEZ" class=wikipagelink>PEZ</a><br></td></tr></table><table width="95%" bgcolor=#cfffcf class=wikidiffnew><tr><td>
 OK so I've now got the matching to run only once per bullet fired. And I also changed to a Manhattan distance calculation which, strangely enough, seems to work better but is also faster. Now the log is allowed to grow above 30000 waves and Ali is still more than twice as fast as Shadow I think. As it should be since my gun use simple GF techniques instead of projecting movement to find out where to fire. I've tweaked the weighting of some of the dimensions now and the gun performs better in my tests. Let's see what the rumble says. -- <a href="robowiki?PEZ" class=wikipagelink>PEZ</a><br></td></tr></table>
 <br><strong>Changed: 123c123</strong><br><table width="95%" bgcolor=#ffffaf class=wikidiffold><tr><td>
 Never tweak your gun against <a href="robowiki?Aristocles" class=wikipagelink>Aristocles</a>. It made my gun win points against <a rel="nofollow" href="http://www.activeshow.net">[Aristocles]</a> and Raiko and all bots using Raiko movement but lose against virtually every other bot in the rumble.<br></td></tr></table><table width="95%" bgcolor=#cfffcf class=wikidiffnew><tr><td>
 Never tweak your gun against <a href="robowiki?Aristocles" class=wikipagelink>Aristocles</a>. It made my gun win points against Aristocles and Raiko and all bots using Raiko movement but lose against virtually every other bot in the rumble.<br></td></tr></table>
 <br><strong>Changed: 153c153</strong><br><table width="95%" bgcolor=#ffffaf class=wikidiffold><tr><td>
 -- <a href="robowiki?PEZ" class=wikipagelink>PEZ</a><br></td></tr></table><table width="95%" bgcolor=#cfffcf class=wikidiffnew><tr><td>
 -- <a href="robowiki?PEZ" class=wikipagelink>PEZ</a><br></td></tr></table>
<hr class=wikilinediff>
<div class=wikitext><H3><a href="robowiki?Ali/BumbleBee" class=wikipagelink>/BumbleBee</a> a gun by <a href="robowiki?PEZ" class=wikipagelink>PEZ</a></H3>

An experimental "fuzzy matching" <a href="robowiki?GuessFactorTargeting" class=wikipagelink>GuessFactorTargeting</a> gun based on <a href="robowiki?CassiusClay/Bee" class=wikipagelink>CassiusClay/Bee</a>. -- <a href="robowiki?PEZ" class=wikipagelink>PEZ</a>
<hr noshade class=wikiline size=1>
<H4><a href="robowiki?TargetingChallenge/FastLearning" class=wikipagelink>TargetingChallenge/FastLearning</a> (TC35) Performance</H4>

I'll try to track <a href="robowiki?BumbleBee" class=wikipagelink>BumbleBee</a>'s TC35 performance here. Together with the current top competition for reference.
<p>
<TABLE CELLSPACING='0' CELLPADDING='1' BORDER='1'>
<TR VALIGN='CENTER' ><td align="left" colspan='0.5'>Name                 </td><td align="left" colspan="0.5"> Author       </td><td align="center" colspan="0.5">DT </td><td align="center" colspan="0.5">Asp</td><td align="left" colspan="0.5"> TAOW</td><td align="left" colspan="0.5"> Spar</td><td align="center" colspan="0.5">Cig</td><td align="left" colspan="0.5"> Tron</td><td align="left" colspan="0.5"> Fhqw</td><td align="left" colspan="0.5"> HTTC</td><td align="left" colspan="0.5"> Yngw</td><td align="left" colspan="0.5"> Funk</td><td colspan="0.5"> <strong>Total</strong> </td><td colspan="0.5"> Comment</td></TR>
<TR VALIGN='CENTER' ><td colspan='0.5'><a href="robowiki?CassiusClay" class=wikipagelink>CassiusClay</a> 1.9.6.10 </td><td colspan="0.5"> <a href="robowiki?PEZ" class=wikipagelink>PEZ</a> </td><td colspan="0.5"> 81.49 </td><td colspan="0.5"> 93.41 </td><td colspan="0.5"> 99.76 </td><td colspan="0.5"> 97.96 </td><td colspan="0.5"> 83.97 </td><td colspan="0.5"> 85.20 </td><td colspan="0.5"> 95.21 </td><td colspan="0.5"> 85.83 </td><td colspan="0.5"> 97.57 </td><td colspan="0.5"> 89.71 </td><td colspan="0.5"> <strong>91.01</strong> </td><td colspan="0.5"> 15 seasons</td></TR>
<TR VALIGN='CENTER' ><td colspan='0.5'><a href="robowiki?Shadow" class=wikipagelink>Shadow</a> 3.06 </td><td colspan="0.5"> <a href="robowiki?ABC" class=wikipagelink>ABC</a> </td><td colspan="0.5"> 78.85 </td><td colspan="0.5"> 90.24 </td><td colspan="0.5"> 99.63 </td><td colspan="0.5"> 98.45 </td><td colspan="0.5"> 83.23 </td><td colspan="0.5"> 87.43 </td><td colspan="0.5"> 93.95 </td><td colspan="0.5"> 89.67 </td><td colspan="0.5"> 97.86 </td><td colspan="0.5"> 88.99 </td><td colspan="0.5"> <strong>90.83</strong> </td><td colspan="0.5"> 15 seasons</td></TR>
<TR VALIGN='CENTER' ><td colspan='0.5'><a href="robowiki?Pugilist" class=wikipagelink>Pugilist</a> 1.9.9.7 </td><td colspan="0.5"> <a href="robowiki?PEZ" class=wikipagelink>PEZ</a> </td><td colspan="0.5"> 81.05 </td><td colspan="0.5"> 91.69 </td><td colspan="0.5"> 99.85 </td><td colspan="0.5"> 98.14 </td><td colspan="0.5"> 82.11 </td><td colspan="0.5"> 84.79 </td><td colspan="0.5"> 93.54 </td><td colspan="0.5"> 85.74 </td><td colspan="0.5"> 97.45 </td><td colspan="0.5"> 88.97 </td><td colspan="0.5"> <strong>90.33</strong> </td><td colspan="0.5"> 16 seasons</td></TR>
<TR VALIGN='CENTER' ><td colspan='0.5'><a href="robowiki?Ali" class=wikipagelink>Ali</a> 0.2.5.6 </td><td colspan="0.5"> <a href="robowiki?PEZ" class=wikipagelink>PEZ</a> </td><td colspan="0.5"> 80.74 </td><td colspan="0.5"> 92.06 </td><td colspan="0.5"> 99.77 </td><td colspan="0.5"> 96.72 </td><td colspan="0.5"> 78.96 </td><td colspan="0.5"> 83.03 </td><td colspan="0.5"> 95.95 </td><td colspan="0.5"> 85.41 </td><td colspan="0.5"> 97.86 </td><td colspan="0.5"> 89.11 </td><td colspan="0.5"> <strong>89.96</strong> </td><td colspan="0.5"> 33 seasons</td></TR>
<TR VALIGN='CENTER' ><td align="left" colspan='0.5'><a href="robowiki?Raiko" class=wikipagelink>Raiko</a> 0.43      </td><td align="left" colspan="0.5"> <a href="robowiki?Jamougha" class=wikipagelink>Jamougha</a> </td><td colspan="0.5"> 80.02 </td><td colspan="0.5"> 89.93 </td><td colspan="0.5"> 99.63 </td><td colspan="0.5"> 97.65 </td><td colspan="0.5"> 81.63 </td><td colspan="0.5"> 84.23 </td><td colspan="0.5"> 95.92 </td><td colspan="0.5"> 85.19 </td><td colspan="0.5"> 97.20 </td><td colspan="0.5"> 88.06 </td><td colspan="0.5"> <strong>89.95</strong> </td><td colspan="0.5"> 16 seasons</td></TR>
<TR VALIGN='CENTER' ><td colspan='0.5'><a href="robowiki?David_Alves/Phoenix" class=wikipagelink>Phoenix</a> 0.2 dev </td><td colspan="0.5"> <a href="robowiki?David_Alves" class=wikipagelink>David Alves</a> </td><td colspan="0.5"> 74.20 </td><td colspan="0.5"> 89.98 </td><td colspan="0.5"> 99.88 </td><td colspan="0.5"> 96.18 </td><td colspan="0.5"> 82.15 </td><td colspan="0.5"> 84.52 </td><td colspan="0.5"> 95.28 </td><td colspan="0.5"> 87.49 </td><td colspan="0.5"> 96.84 </td><td colspan="0.5"> 89.81 </td><td colspan="0.5"> <strong>89.63</strong> </td><td colspan="0.5"> 50 seasons</td></TR>
<TR VALIGN='CENTER' ><td colspan='0.5'><a href="robowiki?Ali" class=wikipagelink>Ali</a> 0.2.5 </td><td colspan="0.5"> <a href="robowiki?PEZ" class=wikipagelink>PEZ</a> </td><td colspan="0.5"> 78.17 </td><td colspan="0.5"> 92.09 </td><td colspan="0.5"> 99.75 </td><td colspan="0.5"> 96.42 </td><td colspan="0.5"> 79.35 </td><td colspan="0.5"> 82.26 </td><td colspan="0.5"> 95.79 </td><td colspan="0.5"> 86.48 </td><td colspan="0.5"> 96.67 </td><td colspan="0.5"> 88.66 </td><td colspan="0.5"> <strong>89.56</strong> </td><td colspan="0.5"> 15 seasons</td></TR>
<TR VALIGN='CENTER' ><td colspan='0.5'><a href="robowiki?DarkHallow" class=wikipagelink>DarkHallow</a> </td><td colspan="0.5"> <a href="robowiki?Jim" class=wikipagelink>Jim</a> </td><td colspan="0.5"> 76.71 </td><td colspan="0.5"> 90.34 </td><td colspan="0.5"> 99.30 </td><td colspan="0.5"> 97.42 </td><td colspan="0.5"> 80.72 </td><td colspan="0.5"> 85.74 </td><td colspan="0.5"> 95.14 </td><td colspan="0.5"> 85.35 </td><td colspan="0.5"> 96.90 </td><td colspan="0.5"> 87.59 </td><td colspan="0.5"> <strong>89.52</strong> </td><td colspan="0.5"> 15 Seasons</td></TR>
</TABLE>
<hr noshade class=wikiline size=1>
<H4>Implementation issues</H4>

Instead of indexed segmentation BB uses normalized scalar measures. This is the only difference in the actuall Gun class. Then there is some changes in the Wave subclass, <code>BumbleWave</code>, too. The new stuff looks like so (as always, my code is covered by the <a href="robowiki?RWPCL" class=wikipagelink>RWPCL</a>):
<pre>
class BumbleWave extends Wave {
...
    static final double MATCH_THRESHOLD = 11;
...
    static List log = new ArrayList();

    LogEntry logEntry = new LogEntry();
...
    void registerVisits() {
	logEntry.visitIndex = Math.max(1, visitingIndex());
	log.add(logEntry);
    }

    int mostVisited() {
	int mostVisitedIndex = MIDDLE_FACTOR;
	int[] matched = new int[FACTORS];
	for (int i = 0, n = log.size(); i &lt; n; i++) {
	    LogEntry e = (LogEntry)log.get(i);
	    double distance = logEntry.distance(e);
	    if (distance &lt; MATCH_THRESHOLD) {
		e.usage = PUtils.rollingAvg(e.usage, 100, 200);
		matched[e.visitIndex]++;
	    }
	    else {
		e.usage = PUtils.rollingAvg(e.usage, 0, 200);
	    }
	}
	int most = 0;
	for (int i = 0; i &lt; FACTORS; i++) {
	    if (matched[i] &gt; most) {
		mostVisitedIndex = i;
		most = matched[i];
	    }
	}
	return mostVisitedIndex;
    }

    static void cleanLog() {
	if (log.size() &gt; 10000) {
	    System.out.println(((LogEntry)log.get(0)).usage + " - " + ((LogEntry)log.get(4999)).usage);
	    Collections.sort(log, new Comparator() {
		public int compare(Object a, Object b) {
		    return (int)(((LogEntry)b).usage - ((LogEntry)a).usage);
		    }
		});
	    log.subList(4999, log.size() - 1).clear();
	    System.out.println(((LogEntry)log.get(0)).usage + " - " + ((LogEntry)log.get(4999)).usage);
	}
    }
}

class LogEntry {
    double bulletPower;
    double fireDistance;
    double velocity;
    double lastVelocity;
    double velocityChangedTimer;
    double wallDistance;
    int visitIndex;
    double usage;

    double distance(LogEntry e) {
	double distance = Point2D.distanceSq(this.fireDistance, this.velocity, e.fireDistance, e.velocity);
	distance += Point2D.distanceSq(this.lastVelocity, this.velocityChangedTimer, e.lastVelocity, e.velocityChangedTimer);
	distance += Math.pow(this.wallDistance - e.wallDistance, 2);
	return Math.sqrt(distance);
    }
}
</pre>
<p>
Where Bee uses several stat buffers for efficience in both short and long term, this gun uses only the log. I guess I could increase and decrease the fuzziness in the match there to get some of that Bee quality back. I just don't know how to do that in a controlled manner.
<p>
-- <a href="robowiki?PEZ" class=wikipagelink>PEZ</a>
<hr noshade class=wikiline size=1>
<H4>Comments</H4>

This is looking more and more like my gun, mixed with the new one I'm planning. Maybe I can take a break and just suggest things for you to experiment with... :) -- <a href="robowiki?ABC" class=wikipagelink>ABC</a>
<p>
Interesting. That means our guns never where all that different. I seem not to be able to make this gun work near the performance of Bee though. Which feels a bit funny, because this gun "feels" better. But I won't give up yet. Keeping the raw data opens up a world of opportunities that I must explore some. Please suggest one or two things I can try. -- <a href="robowiki?PEZ" class=wikipagelink>PEZ</a>
<p>
There are still some fundamental differences, though. One of then is that, instead of a fixed MATCH_THRESHOLD, I use a fixed cluster size, so that when you don't have enough close matches you look for tendencies in not so close ones. Very much like using an unsegmented array when you don't have enough data for the segmented ones. -- <a href="robowiki?ABC" class=wikipagelink>ABC</a>
<p>
Yeah, I haven't a clear idea on how to do that yet. All my attempts have resulted in really slow performance. And since <a href="robowiki?Ali" class=wikipagelink>Ali</a> is already a <a href="robowiki?SlowBot" class=wikipagelink>SlowBot</a> I keep thinking about the problem until I figure out how to do it without eating to much CPU. The cleaning of seldomly used data in the log there. Does that seem reasonable to you? How do you keep your log from not growing infinitly? -- <a href="robowiki?PEZ" class=wikipagelink>PEZ</a>
<p>
You should really look into the fire time only prediction, it will increase your bot's speed like nothing else. I have a gun.class where I deal with that kind of stuff, and all my guns extend that class by overriding the getFireAngle<a href="robowiki?action=edit&id=FireAngle" class=wikipageedit>?</a>(enemy) and other methods. You should maybe try making a HOT gun that does that, and tweak it until it fires at every chance it gets and always HOT, sitting duck is a good tester. I find your log cleaning very interesting, I just cap mine at 30000 scans, it only analyses data from the last 70 rounds or so, like a time-based data decay. Again, execution speed is crucial, you are struggling with 8000 samples, I use 30000 and still have time to do a lot of PM stuff on it... -- <a href="robowiki?ABC" class=wikipagelink>ABC</a>
<p>
And you shouldn't compare a prototype gun first attempts with Bee's, no way a new gun can compete with another one that has been tweaked/optimised for years... -- <a href="robowiki?ABC" class=wikipagelink>ABC</a>
<p>
I only run the matching when <code>getGunHeat() &lt; getGunCoolingRate() * 2</code>. When the gun is hot I keep the gun <a href="robowiki?HOT" class=wikipagelink>HOT</a> aimed. I guess this still runs the matching too often, but at least not all the time. -- <a href="robowiki?PEZ" class=wikipagelink>PEZ</a>
<p>
Ali is still a bit faster than Shadow, some 135% faster I think. But you are doing much more stuff and maintain a much larger log so I must definately look into where I can gain speed. Time to use that profiler David was talking about. -- <a href="robowiki?PEZ" class=wikipagelink>PEZ</a>
<p>
135% like 2.3x or 135% of Shadow's speed (1.3x)? It is obvious that the prediction is the slowest part of your code, and you are executing it 2-3 times per bullet. If you reduce it to 1 prediction/bullet you'll probably make it twice as fast. Try <code>getGunHeat() &lt;= getGunCoolingRate() &amp;&amp; getGunHeat() &gt; 0</code>, I think like this it will predict only one tick before firing. -- <a href="robowiki?ABC" class=wikipagelink>ABC</a>
<p>
Thanks. What if I miss a scan then? I mean if get<a href="robowiki?GunHeat" class=wikipagelink>GunHeat</a>() reaches zero and I haven't predicted. -- <a href="robowiki?PEZ" class=wikipagelink>PEZ</a>
<p>
That's why I keep a flag to know if I already predicted, I set it to true after predicting (<code>getGunHeat() &lt;= getGunCoolingRate()</code>) and false after firing. -- <a href="robowiki?ABC" class=wikipagelink>ABC</a>
<p>
Thanks again. Expect a faster Ali tonight. =) -- <a href="robowiki?PEZ" class=wikipagelink>PEZ</a>
<p>
OK so I've now got the matching to run only once per bullet fired. And I also changed to a Manhattan distance calculation which, strangely enough, seems to work better but is also faster. Now the log is allowed to grow above 30000 waves and Ali is still more than twice as fast as Shadow I think. As it should be since my gun use simple GF techniques instead of projecting movement to find out where to fire. I've tweaked the weighting of some of the dimensions now and the gun performs better in my tests. Let's see what the rumble says. -- <a href="robowiki?PEZ" class=wikipagelink>PEZ</a>
<p>
Wow. And so I lost 40+ points! I have no clue why really. I've now reset back to squared distances and weighting of the dimensions like the earlier version. If that doesn't help I guess it must be my "run matching only once per bullet" thingy that goes terribly wrong. Squared distances means I had to keep the log shorter because it's much slower.
<p>
Never tweak your gun against <a href="robowiki?Aristocles" class=wikipagelink>Aristocles</a>. It made my gun win points against Aristocles and Raiko and all bots using Raiko movement but lose against virtually every other bot in the rumble.
<p>
-- <a href="robowiki?PEZ" class=wikipagelink>PEZ</a>
<p>
Imo you should use a TC-enabled opponent and disable your movement. Maybe it's your movement that is making the results more volatile, a wavesurfer's dodging performance is very dependant on the enemy shots that hit it. -- <a href="robowiki?ABC" class=wikipagelink>ABC</a>
<p>
Good point. -- <a href="robowiki?PEZ" class=wikipagelink>PEZ</a>
<p>
The current version of the gun didn't fix the problems introduced lately. I think that it must be something wrong in the code where I try to run te matching only once per bullet. -- <a href="robowiki?PEZ" class=wikipagelink>PEZ</a>
<p>
OK. I reverted back to 0.2.3 now and do gun heat and alignement like <a href="robowiki?ABC" class=wikipagelink>ABC</a> suggests on the <a href="robowiki?WhenToFire" class=wikipagelink>WhenToFire</a> page. In my testing it seems to fix the problems. It's again up to the rumble god to decide though. =) -- <a href="robowiki?PEZ" class=wikipagelink>PEZ</a>
<p>
In Ali version 0.2.5.6 I try squared Euclidian distancing. Like so:
<pre>
    double distance(LogEntry e) {
	double d1 = this.fireDistance - e.fireDistance;
	double d2 = this.velocity - e.velocity;
	double d3 = this.lastVelocity - e.lastVelocity;
	double d4 = this.velocityChangedTimer - e.velocityChangedTimer;
	double d5 = this.wallDistance - e.wallDistance;
	return d1 * d1 + d2 * d2 + d3 * d3 + d4 * d4 + d5 * d5;
    }
</pre>
This should penalize larger differences in idividual dimensions more than the Manhattan distancing (that is summing plain absolute differences) does. An example could be these two cases:
<OL >
<li> All dimensions are quite similar without anyone being an "exact" match
<li> Four dimensions are exact matches, but the velocity segment is quite different.
</OL>
With Manhattan differencing both cases would count as a match. But with squared Euclidian distancing only the first case matches.
<p>
Tweaking remains. Right now I get the same total TC35 score using either distancing method, but I think I have a lot more tweaking to do everywhere in this gun. I tried <a href="robowiki?ABC" class=wikipagelink>ABC</a>'s approach of using fixed cluster sizes, but it lowered my guns performance quite much. I saved that branch of code though, so I can revisit it later.
<p>
-- <a href="robowiki?PEZ" class=wikipagelink>PEZ</a>
</div><hr class=wikilinefooter>
<div class=wikifooter><form method="post" action="robowiki" enctype="application/x-www-form-urlencoded">
<a href="robowiki?Robo_Home" class=wikipagelink>Robo Home</a> | <a href="robowiki?Ali" class=wikipagelink>Ali</a> | <a href="robowiki?Changes" class=wikipagelink>Changes</a> | <a href="robowiki?action=editprefs">Preferences</a> | <a href='?action=index'>AllPages</a><br>
<a href="robowiki?action=edit&id=Ali/BumbleBee" class=wikipageedit>Edit text of this page</a> | <a href="robowiki?action=history&id=Ali/BumbleBee">View other revisions</a><br>Last edited November 12, 2004 14:26 EST by <a href="robowiki?PEZ" title="ID 3825 from ua-213-115-147-228.cust.bredbandsbolaget.se">PEZ</a> <a href="robowiki?action=browse&diff=1&id=Ali/BumbleBee">(diff)</a><br>Search: <input type="text" name="search"  size="20" /><input type="hidden" name="dosearch" value="1"  /></form></div>
</body>
</html>